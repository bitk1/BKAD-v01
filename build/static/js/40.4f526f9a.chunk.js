(self.webpackChunkipfs_webui=self.webpackChunkipfs_webui||[]).push([[40],{31708:(e,t,r)=>{"use strict";e.exports=r(89109)},89109:(e,t,r)=>{"use strict";var n=t;function s(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(40325),n.BufferWriter=r(65875),n.Reader=r(99094),n.BufferReader=r(56237),n.util=r(36263),n.rpc=r(77162),n.roots=r(84473),n.configure=s,s()},99094:(e,t,r)=>{"use strict";e.exports=c;var n,s=r(36263),o=s.LongBits,a=s.utf8;function i(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},h=function(){return s.Buffer?function(e){return(c.create=function(e){return s.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function u(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw i(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw i(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw i(this,8);return new o(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}c.create=h(),c.prototype._slice=s.Array.prototype.subarray||s.Array.prototype.slice,c.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,i(this,10);return e}}(),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw i(this,4);return d(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw i(this,4);return 0|d(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw i(this,4);var e=s.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw i(this,4);var e=s.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw i(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw i(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw i(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=h(),n._configure();var t=s.Long?"toLong":"toNumber";s.merge(c.prototype,{int64:function(){return u.call(this)[t](!1)},uint64:function(){return u.call(this)[t](!0)},sint64:function(){return u.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},56237:(e,t,r)=>{"use strict";e.exports=o;var n=r(99094);(o.prototype=Object.create(n.prototype)).constructor=o;var s=r(36263);function o(e){n.call(this,e)}o._configure=function(){s.Buffer&&(o.prototype._slice=s.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},84473:e=>{"use strict";e.exports={}},77162:(e,t,r)=>{"use strict";t.Service=r(86271)},86271:(e,t,r)=>{"use strict";e.exports=s;var n=r(36263);function s(e,t,r){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(s.prototype=Object.create(n.EventEmitter.prototype)).constructor=s,s.prototype.rpcCall=function e(t,r,s,o,a){if(!o)throw TypeError("request must be specified");var i=this;if(!a)return n.asPromise(e,i,t,r,s,o);if(i.rpcImpl)try{return i.rpcImpl(t,r[i.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return i.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof s))try{r=s[i.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return i.emit("error",e,t),a(e)}return i.emit("data",r,t),a(null,r)}i.end(!0)}))}catch(c){return i.emit("error",c,t),void setTimeout((function(){a(c)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},s.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},8081:(e,t,r)=>{"use strict";e.exports=s;var n=r(36263);function s(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=s.zero=new s(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=s.zeroHash="\0\0\0\0\0\0\0\0";s.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new s(r,n)},s.from=function(e){if("number"===typeof e)return s.fromNumber(e);if(n.isString(e)){if(!n.Long)return s.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new s(e.low>>>0,e.high>>>0):o},s.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},s.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var i=String.prototype.charCodeAt;s.fromHash=function(e){return e===a?o:new s((i.call(e,0)|i.call(e,1)<<8|i.call(e,2)<<16|i.call(e,3)<<24)>>>0,(i.call(e,4)|i.call(e,5)<<8|i.call(e,6)<<16|i.call(e,7)<<24)>>>0)},s.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},s.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},s.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},s.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},36263:function(e,t,r){"use strict";var n=t;function s(e,t,r){for(var n=Object.keys(t),s=0;s<n.length;++s)void 0!==e[n[s]]&&r||(e[n[s]]=t[n[s]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&s(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(17206),n.base64=r(70001),n.EventEmitter=r(27111),n.float=r(30802),n.inquire=r(77172),n.utf8=r(93861),n.pool=r(58236),n.LongBits=r(8081),n.isNode=Boolean("undefined"!==typeof r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!==typeof window&&window||"undefined"!==typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"===typeof e||e instanceof String},n.isObject=function(e){return e&&"object"===typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!==typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"===typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=s,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},40325:(e,t,r)=>{"use strict";e.exports=u;var n,s=r(36263),o=s.LongBits,a=s.base64,i=s.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function h(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var d=function(){return s.Buffer?function(){return(u.create=function(){return new n})()}:function(){return new u}};function f(e,t,r){t[r]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function y(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function g(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}u.create=d(),u.alloc=function(e){return new s.Array(e)},s.Array!==Array&&(u.alloc=s.pool(u.alloc,s.Array.prototype.subarray)),u.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this._push(y,10,o.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.uint64=function(e){var t=o.from(e);return this._push(y,t.length(),t)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(y,t.length(),t)},u.prototype.bool=function(e){return this._push(f,1,e?1:0)},u.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(e){var t=o.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(e){return this._push(s.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this._push(s.float.writeDoubleLE,8,e)};var b=s.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};u.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(s.isString(e)){var r=u.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(b,t,e)},u.prototype.string=function(e){var t=i.length(e);return t?this.uint32(t)._push(i.write,t,e):this._push(f,1,0)},u.prototype.fork=function(){return this.states=new h(this),this.head=this.tail=new c(l,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},u._configure=function(e){n=e,u.create=d(),n._configure()}},65875:(e,t,r)=>{"use strict";e.exports=o;var n=r(40325);(o.prototype=Object.create(n.prototype)).constructor=o;var s=r(36263);function o(){n.call(this)}function a(e,t,r){e.length<40?s.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=s._Buffer_allocUnsafe,o.writeBytesBuffer=s.Buffer&&s.Buffer.prototype instanceof Uint8Array&&"set"===s.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){s.isString(e)&&(e=s._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=s.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},64736:e=>{function t(e){const t=new globalThis.AbortController;function r(){t.abort();for(const t of e)t&&t.removeEventListener&&t.removeEventListener("abort",r)}for(const n of e)if(n&&n.addEventListener){if(n.aborted){r();break}n.addEventListener("abort",r)}return t.signal}e.exports=t,e.exports.anySignal=t},70368:e=>{"use strict";e.exports=function(e){try{let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const r=e.getReader();try{for(;;){const e=await r.read();if(e.done)return;yield e.value}}finally{!0!==t.preventCancel&&r.cancel(),r.releaseLock()}}()}catch(t){return Promise.reject(t)}}},13233:(e,t,r)=>{"use strict";var n=r(1426);const s=r(82193),o="object"===typeof window&&"object"===typeof document&&9===document.nodeType,a=s(),i=o&&!a,c=a&&!o,l=a&&o,h="undefined"!==typeof n&&"undefined"!==typeof n.release&&"node"===n.release.name&&!a,u="function"===typeof importScripts&&"undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,d="undefined"!==typeof n&&!1,f="undefined"!==typeof navigator&&"ReactNative"===navigator.product;e.exports={isTest:d,isElectron:a,isElectronMain:c,isElectronRenderer:l,isNode:h,isBrowser:i,isWebWorker:u,isEnvWithDom:o,isReactNative:f}},21216:(e,t,r)=>{"use strict";e.exports=r(9295)},48772:(e,t,r)=>{"use strict";const n=r(72637);async function*s(e,t){const r=new n,s=await r.get(e,t);yield*s.iterator()}e.exports=(e,t)=>({path:decodeURIComponent(new URL(e).pathname.split("/").pop()||""),content:s(e,t)})},72637:(e,t,r)=>{"use strict";const{fetch:n,Request:s,Headers:o}=r(10006),{TimeoutError:a,HTTPError:i}=r(40607),c=r(89842).bind({ignoreUndefined:!0}),{URL:l,URLSearchParams:h}=r(16791),u=r(64736),d=r(70368),{isBrowser:f,isWebWorker:p}=r(13233),y=r(50464),g={throwHttpErrors:!0,credentials:"same-origin"};class b{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=c(g,e)}async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=c(this.opts,t),g=new o(r.headers);if("string"!==typeof e&&!(e instanceof l||e instanceof s))throw new TypeError("`resource` must be a string, URL, or Request");const b=new l(e.toString(),r.base),{searchParams:v,transformSearchParams:E,json:P}=r;v&&(b.search="function"===typeof E?E(new h(r.searchParams)):new h(r.searchParams)),P&&(r.body=JSON.stringify(r.json),g.set("content-type","application/json"));const x=new AbortController,S=u([x.signal,r.signal]);null!=globalThis.ReadableStream&&r.body instanceof globalThis.ReadableStream&&(f||p)&&(r.body=new Blob(await y(d(r.body))));const A=await((e,t,r)=>{if(void 0===t)return e;const n=Date.now(),s=()=>Date.now()-n>=t;return new Promise(((n,o)=>{const i=setTimeout((()=>{s()&&(o(new a),r.abort())}),t),c=e=>t=>{clearTimeout(i),s()?o(new a):e(t)};e.then(c(n),c(o))}))})(n(b.toString(),{...r,signal:S,timeout:void 0,headers:g,duplex:"half"}),r.timeout,x);if(!A.ok&&r.throwHttpErrors)throw r.handleError&&await r.handleError(A),new i(A);return A.iterator=async function*(){yield*w(A.body)},A.ndjson=async function*(){for await(const e of m(A.iterator()))t.transform?yield t.transform(e):yield e},A}post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"POST"})}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"GET"})}put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"PUT"})}delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"DELETE"})}options(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"OPTIONS"})}}const m=async function*(e){const t=new TextDecoder;let r="";for await(const n of e){r+=t.decode(n,{stream:!0});const e=r.split(/\r?\n/);for(let t=0;t<e.length-1;t++){const r=e[t].trim();r.length>0&&(yield JSON.parse(r))}r=e[e.length-1]}r+=t.decode(),r=r.trim(),0!==r.length&&(yield JSON.parse(r))},w=e=>{if(v(e))return e;if(P(e)){const t=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:t.next.bind(t),return:r=>(e.destroy(),"function"===typeof t.return?t.return():Promise.resolve({done:!0,value:r}))})}}if(E(e)){const t=e.getReader();return async function*(){try{for(;;){const{done:e,value:r}=await t.read();if(e)return;r&&(yield r)}}finally{t.releaseLock()}}()}throw new TypeError("Body can't be converted to AsyncIterable")},v=e=>"object"===typeof e&&null!==e&&"function"===typeof e[Symbol.asyncIterator],E=e=>e&&"function"===typeof e.getReader,P=e=>Object.prototype.hasOwnProperty.call(e,"readable")&&Object.prototype.hasOwnProperty.call(e,"writable");b.HTTPError=i,b.TimeoutError=a,b.streamToAsyncIterator=w,b.post=(e,t)=>new b(t).post(e,t),b.get=(e,t)=>new b(t).get(e,t),b.put=(e,t)=>new b(t).put(e,t),b.delete=(e,t)=>new b(t).delete(e,t),b.options=(e,t)=>new b(t).options(e,t),e.exports=b},40607:(e,t)=>{"use strict";class r extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request timed out"),this.name="TimeoutError"}}t.TimeoutError=r;class n extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The operation was aborted."),this.name="AbortError"}}t.AbortError=n;class s extends Error{constructor(e){super(e.statusText),this.name="HTTPError",this.response=e}}t.HTTPError=s},10006:(e,t,r)=>{"use strict";const{TimeoutError:n,AbortError:s}=r(40607),{Response:o,Request:a,Headers:i,default:c}=r(21216),l=c,h=e=>{const t=new i;for(const r of e.trim().split(/[\r\n]+/)){const e=r.indexOf(": ");e>0&&t.set(r.slice(0,e),r.slice(e+1))}return t};class u extends o{constructor(e,t,r){super(t,r),Object.defineProperty(this,"url",{value:e})}}e.exports={fetch:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!=t.onUploadProgress?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new XMLHttpRequest;r.open(t.method||"GET",e.toString(),!0);const{timeout:a,headers:c}=t;if(a&&a>0&&a<1/0&&(r.timeout=a),null!=t.overrideMimeType&&r.overrideMimeType(t.overrideMimeType),c)for(const[n,s]of new i(c))r.setRequestHeader(n,s);return t.signal&&(t.signal.onabort=()=>r.abort()),t.onUploadProgress&&(r.upload.onprogress=t.onUploadProgress),r.responseType="arraybuffer",new Promise(((e,a)=>{const i=t=>{switch(t.type){case"error":e(o.error());break;case"load":e(new u(r.responseURL,r.response,{status:r.status,statusText:r.statusText,headers:h(r.getAllResponseHeaders())}));break;case"timeout":a(new n);break;case"abort":a(new s)}};r.onerror=i,r.onload=i,r.ontimeout=i,r.onabort=i,r.send(t.body)}))}(e,t):l(e,t)},Request:a,Headers:i}},9295:(e,t,r)=>{"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?e.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:e.exports={default:r(45359).default,Headers:r(45359).Headers,Request:r(45359).Request,Response:r(45359).Response}},95040:(e,t,r)=>{"use strict";r.d(t,{create:()=>kc});var n={};r.r(n),r.d(n,{identity:()=>ue});var s={};r.r(s),r.d(s,{identity:()=>Pe});var o={};r.r(o),r.d(o,{base2:()=>xe});var a={};r.r(a),r.d(a,{base8:()=>Se});var i={};r.r(i),r.d(i,{base10:()=>Ae});var c={};r.r(c),r.d(c,{base16:()=>Ce,base16upper:()=>Te});var l={};r.r(l),r.d(l,{base32:()=>je,base32hex:()=>Ie,base32hexpad:()=>Be,base32hexpadupper:()=>ze,base32hexupper:()=>De,base32pad:()=>Ne,base32padupper:()=>ke,base32upper:()=>Ue,base32z:()=>Le});var h={};r.r(h),r.d(h,{base36:()=>Oe,base36upper:()=>Re});var u={};r.r(u),r.d(u,{base58btc:()=>Me,base58flickr:()=>_e});var d={};r.r(d),r.d(d,{base64:()=>He,base64pad:()=>Ve,base64url:()=>qe,base64urlpad:()=>Fe});var f={};r.r(f),r.d(f,{base256emoji:()=>Qe});var p={};r.r(p),r.d(p,{sha256:()=>Ye,sha512:()=>$e});var y={};r.r(y),r.d(y,{code:()=>tt,decode:()=>nt,encode:()=>rt,name:()=>et});var g={};r.r(g),r.d(g,{code:()=>it,decode:()=>lt,encode:()=>ct,name:()=>at});var b={};r.r(b),r.d(b,{base58btc:()=>Qr,base58flickr:()=>Zr});var m={};r.r(m),r.d(m,{base32:()=>Gr,base32hex:()=>en,base32hexpad:()=>rn,base32hexpadupper:()=>nn,base32hexupper:()=>tn,base32pad:()=>Yr,base32padupper:()=>$r,base32upper:()=>Xr,base32z:()=>sn});var w={};r.r(w),r.d(w,{identity:()=>bn});var v={};r.r(v),r.d(v,{base2:()=>mn});var E={};r.r(E),r.d(E,{base8:()=>wn});var P={};r.r(P),r.d(P,{base10:()=>vn});var x={};r.r(x),r.d(x,{base16:()=>En,base16upper:()=>Pn});var S={};r.r(S),r.d(S,{base36:()=>xn,base36upper:()=>Sn});var A={};r.r(A),r.d(A,{base64:()=>An,base64pad:()=>Cn,base64url:()=>Tn,base64urlpad:()=>jn});var C={};r.r(C),r.d(C,{base256emoji:()=>In});var T={};r.r(T),r.d(T,{sha256:()=>Ln,sha512:()=>On});var j={};r.r(j),r.d(j,{identity:()=>Mn});var U={};r.r(U),r.d(U,{code:()=>Hn,decode:()=>qn,encode:()=>Vn,name:()=>_n});var N={};r.r(N),r.d(N,{code:()=>Kn,decode:()=>Zn,encode:()=>Qn,name:()=>Wn});const k=e=>Promise.reject(new Error('No base found for "'.concat(e,'"')));class I{constructor(e){this._basesByName={},this._basesByPrefix={},this._loadBase=e.loadBase||k;for(const t of e.bases)this.addBase(t)}addBase(e){if(this._basesByName[e.name]||this._basesByPrefix[e.prefix])throw new Error('Codec already exists for codec "'.concat(e.name,'"'));this._basesByName[e.name]=e,this._basesByPrefix[e.prefix]=e}removeBase(e){delete this._basesByName[e.name],delete this._basesByPrefix[e.prefix]}async getBase(e){if(this._basesByName[e])return this._basesByName[e];if(this._basesByPrefix[e])return this._basesByPrefix[e];const t=await this._loadBase(e);return null==this._basesByName[t.name]&&null==this._basesByPrefix[t.prefix]&&this.addBase(t),t}listBases(){return Object.values(this._basesByName)}}const D=e=>Promise.reject(new Error('No codec found for "'.concat(e,'"')));class B{constructor(e){this._codecsByName={},this._codecsByCode={},this._loadCodec=e.loadCodec||D;for(const t of e.codecs)this.addCodec(t)}addCodec(e){if(this._codecsByName[e.name]||this._codecsByCode[e.code])throw new Error('Resolver already exists for codec "'.concat(e.name,'"'));this._codecsByName[e.name]=e,this._codecsByCode[e.code]=e}removeCodec(e){delete this._codecsByName[e.name],delete this._codecsByCode[e.code]}async getCodec(e){const t="string"===typeof e?this._codecsByName:this._codecsByCode;if(t[e])return t[e];const r=await this._loadCodec(e);return null==t[e]&&this.addCodec(r),r}listCodecs(){return Object.values(this._codecsByName)}}const z=e=>Promise.reject(new Error('No hasher found for "'.concat(e,'"')));class L{constructor(e){this._hashersByName={},this._hashersByCode={},this._loadHasher=e.loadHasher||z;for(const t of e.hashers)this.addHasher(t)}addHasher(e){if(this._hashersByName[e.name]||this._hashersByCode[e.code])throw new Error('Resolver already exists for codec "'.concat(e.name,'"'));this._hashersByName[e.name]=e,this._hashersByCode[e.code]=e}removeHasher(e){delete this._hashersByName[e.name],delete this._hashersByCode[e.code]}async getHasher(e){const t="string"===typeof e?this._hashersByName:this._hashersByCode;if(t[e])return t[e];const r=await this._loadHasher(e);return null==t[e]&&this.addHasher(r),r}listHashers(){return Object.values(this._hashersByName)}}var O=r(20099),R=r(839),M=r(1315),_=r(79259);new Uint8Array(0);const H=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};var V=function e(t,r,n){r=r||[];var s=n=n||0;for(;t>=J;)r[n++]=255&t|q,t/=128;for(;t&F;)r[n++]=255&t|q,t>>>=7;return r[n]=0|t,e.bytes=n-s+1,r},q=128,F=-128,J=Math.pow(2,31);var W=function e(t,r){var n,s=0,o=0,a=r=r||0,i=t.length;do{if(a>=i)throw e.bytes=0,new RangeError("Could not decode varint");n=t[a++],s+=o<28?(n&Q)<<o:(n&Q)*Math.pow(2,o),o+=7}while(n>=K);return e.bytes=a-r,s},K=128,Q=127;var Z=Math.pow(2,7),G=Math.pow(2,14),X=Math.pow(2,21),Y=Math.pow(2,28),$=Math.pow(2,35),ee=Math.pow(2,42),te=Math.pow(2,49),re=Math.pow(2,56),ne=Math.pow(2,63);const se={encode:V,decode:W,encodingLength:function(e){return e<Z?1:e<G?2:e<X?3:e<Y?4:e<$?5:e<ee?6:e<te?7:e<re?8:e<ne?9:10}},oe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[se.decode(e,t),se.decode.bytes]},ae=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return se.encode(e,t,r),t},ie=e=>se.encodingLength(e),ce=(e,t)=>{const r=t.byteLength,n=ie(e),s=n+ie(r),o=new Uint8Array(s+r);return ae(e,o,0),ae(r,o,n),o.set(t,s),new le(e,r,t,o)};class le{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const he=H,ue={code:0,name:"identity",encode:he,digest:e=>ce(0,he(e))};var de=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),a=o.charCodeAt(0);if(255!==r[a])throw new TypeError(o+" is ambiguous");r[a]=s}var i=e.length,c=e.charAt(0),l=Math.log(i)/Math.log(256),h=Math.log(256)/Math.log(i);function u(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,s=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var u=0,d=o-1;(0!==h||u<s)&&-1!==d;d--,u++)h+=i*a[d]>>>0,a[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=u,t++}if(" "!==e[t]){for(var f=o-s;f!==o&&0===a[f];)f++;for(var p=new Uint8Array(n+(o-f)),y=n;f!==o;)p[y++]=a[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,s=0,o=t.length;s!==o&&0===t[s];)s++,r++;for(var a=(o-s)*h+1>>>0,l=new Uint8Array(a);s!==o;){for(var u=t[s],d=0,f=a-1;(0!==u||d<n)&&-1!==f;f--,d++)u+=256*l[f]>>>0,l[f]=u%i>>>0,u=u/i>>>0;if(0!==u)throw new Error("Non-zero carry");n=d,s++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var y=c.repeat(r);p<a;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:u,decode:function(e){var r=u(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}};const fe=de;class pe{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class ye{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return be(this,e)}}class ge{constructor(e){this.decoders=e}or(e){return be(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const be=(e,t)=>new ge({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class me{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new pe(e,t,r),this.decoder=new ye(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const we=e=>{let{name:t,prefix:r,encode:n,decode:s}=e;return new me(t,r,n,s)},ve=e=>{let{prefix:t,name:r,alphabet:n}=e;const{encode:s,decode:o}=fe(n,r);return we({prefix:t,name:r,encode:s,decode:e=>H(o(e))})},Ee=e=>{let{name:t,prefix:r,bitsPerChar:n,alphabet:s}=e;return we({prefix:r,name:t,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],s=(1<<r)-1;let o="",a=0,i=0;for(let c=0;c<e.length;++c)for(i=i<<8|e[c],a+=8;a>r;)a-=r,o+=t[s&i>>a];if(a&&(o+=t[s&i<<r-a]),n)for(;o.length*r&7;)o+="=";return o})(e,s,n),decode:e=>((e,t,r,n)=>{const s={};for(let h=0;h<t.length;++h)s[t[h]]=h;let o=e.length;for(;"="===e[o-1];)--o;const a=new Uint8Array(o*r/8|0);let i=0,c=0,l=0;for(let h=0;h<o;++h){const t=s[e[h]];if(void 0===t)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|t,i+=r,i>=8&&(i-=8,a[l++]=255&c>>i)}if(i>=r||255&c<<8-i)throw new SyntaxError("Unexpected end of data");return a})(e,s,n,t)})},Pe=we({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),xe=Ee({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Se=Ee({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Ae=ve({prefix:"9",name:"base10",alphabet:"0123456789"}),Ce=Ee({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Te=Ee({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),je=Ee({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ue=Ee({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ne=Ee({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ke=Ee({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ie=Ee({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),De=Ee({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Be=Ee({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ze=Ee({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Le=Ee({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Oe=ve({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Re=ve({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Me=ve({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_e=ve({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),He=Ee({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ve=Ee({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qe=Ee({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Fe=Ee({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Je=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),We=Je.reduce(((e,t,r)=>(e[r]=t,e)),[]),Ke=Je.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const Qe=we({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=We[t]),"")},decode:function(e){const t=[];for(const r of e){const e=Ke[r.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(r));t.push(e)}return new Uint8Array(t)}}),Ze=e=>{let{name:t,code:r,encode:n}=e;return new Ge(t,r,n)};class Ge{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ce(this.code,t):t.then((e=>ce(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Xe=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ye=Ze({name:"sha2-256",code:18,encode:Xe("SHA-256")}),$e=Ze({name:"sha2-512",code:19,encode:Xe("SHA-512")}),et="raw",tt=85,rt=e=>H(e),nt=e=>H(e),st=new TextEncoder,ot=new TextDecoder,at="json",it=512,ct=e=>st.encode(JSON.stringify(e)),lt=e=>JSON.parse(ot.decode(e)),ht=(e,t)=>{const{bytes:r,version:n}=e;return 0===n?yt(r,dt(e),t||Me.encoder):gt(r,dt(e),t||je.encoder)},ut=new WeakMap,dt=e=>{const t=ut.get(e);if(null==t){const t=new Map;return ut.set(e,t),t}return t};class ft{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==bt)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==mt)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ft.createV0(t)}default:throw Error("Can not convert CID version ".concat(this.version," to version 0. This is a bug please report"))}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=ce(e,t);return ft.createV1(this.code,r)}case 1:return this;default:throw Error("Can not convert CID version ".concat(this.version," to version 1. This is a bug please report"))}}equals(e){return ft.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&((e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,r.bytes)}})(e.multihash,r.multihash)}toString(e){return ht(this,e)}toJSON(){return{"/":ht(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID(".concat(this.toString(),")")}static asCID(e){if(null==e)return null;const t=e;if(t instanceof ft)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:n,bytes:s}=t;return new ft(e,r,n,s||wt(e,r,n.bytes))}if(!0===t[vt]){const{version:e,multihash:r,code:n}=t,s=(e=>{const t=H(e),[r,n]=oe(t),[s,o]=oe(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==s)throw new Error("Incorrect length");return new le(r,s,a,t)})(r);return ft.create(e,n,s)}return null}static create(e,t,r){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==bt)throw new Error("Version 0 CID must use dag-pb (code: ".concat(bt,") block encoding"));return new ft(e,t,r,r.bytes);case 1:{const n=wt(e,t,r.bytes);return new ft(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return ft.create(0,bt,e)}static createV1(e,t){return ft.create(1,e,t)}static decode(e){const[t,r]=ft.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=ft.inspectBytes(e),r=t.size-t.multihashSize,n=H(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=n.subarray(t.multihashSize-t.digestSize),o=new le(t.multihashCode,t.digestSize,s,n);return[0===t.version?ft.createV0(o):ft.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=oe(e.subarray(t));return t+=n,r};let n=r(),s=bt;if(18===n?(n=0,t=0):s=r(),0!==n&&1!==n)throw new RangeError("Invalid CID version ".concat(n));const o=t,a=r(),i=r(),c=t+i;return{version:n,codec:s,multihashCode:a,digestSize:i,multihashSize:c-o,size:c}}static parse(e,t){const[r,n]=pt(e,t),s=ft.decode(n);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return dt(s).set(r,e),s}}const pt=(e,t)=>{switch(e[0]){case"Q":{const r=t||Me;return[Me.prefix,r.decode("".concat(Me.prefix).concat(e))]}case Me.prefix:{const r=t||Me;return[Me.prefix,r.decode(e)]}case je.prefix:{const r=t||je;return[je.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},yt=(e,t,r)=>{const{prefix:n}=r;if(n!==Me.prefix)throw Error("Cannot string encode V0 in ".concat(r.name," encoding"));const s=t.get(n);if(null==s){const s=r.encode(e).slice(1);return t.set(n,s),s}return s},gt=(e,t,r)=>{const{prefix:n}=r,s=t.get(n);if(null==s){const s=r.encode(e);return t.set(n,s),s}return s},bt=112,mt=18,wt=(e,t,r)=>{const n=ie(e),s=n+ie(t),o=new Uint8Array(s+r.byteLength);return ae(e,o,0),ae(t,o,n),o.set(r,s),o},vt=Symbol.for("@ipld/js-cid/CID"),Et={...s,...o,...a,...i,...c,...l,...h,...u,...d,...f},Pt={...p,...n},xt={raw:y,json:g};var St=r(95321),At=r(13233);let Ct=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/giu;function Tt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ms";var r=null;return e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2"),e.replace(Ct,(function(e,t,n){(n=jt(n))&&(r=(r||0)+parseFloat(t,10)*n)})),r&&r/(jt(t)||1)}function jt(e){return Tt[e]||Tt[e.toLowerCase().replace(/s$/,"")]}Tt.nanosecond=Tt.ns=1e-6,Tt["\xb5s"]=Tt["\u03bcs"]=Tt.us=Tt.microsecond=.001,Tt.millisecond=Tt.ms=Tt[""]=1,Tt.second=Tt.sec=Tt.s=1e3*Tt.ms,Tt.minute=Tt.min=Tt.m=60*Tt.s,Tt.hour=Tt.hr=Tt.h=60*Tt.m,Tt.day=Tt.d=24*Tt.h,Tt.week=Tt.wk=Tt.w=7*Tt.d,Tt.month=Tt.b=30.4375*Tt.d,Tt.year=Tt.yr=Tt.y=365.25*Tt.d;const Ut=Tt;var Nt=r(18392),kt=r.n(Nt);var It=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),a=o.charCodeAt(0);if(255!==r[a])throw new TypeError(o+" is ambiguous");r[a]=s}var i=e.length,c=e.charAt(0),l=Math.log(i)/Math.log(256),h=Math.log(256)/Math.log(i);function u(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,s=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var u=0,d=o-1;(0!==h||u<s)&&-1!==d;d--,u++)h+=i*a[d]>>>0,a[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=u,t++}if(" "!==e[t]){for(var f=o-s;f!==o&&0===a[f];)f++;for(var p=new Uint8Array(n+(o-f)),y=n;f!==o;)p[y++]=a[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,s=0,o=t.length;s!==o&&0===t[s];)s++,r++;for(var a=(o-s)*h+1>>>0,l=new Uint8Array(a);s!==o;){for(var u=t[s],d=0,f=a-1;(0!==u||d<n)&&-1!==f;f--,d++)u+=256*l[f]>>>0,l[f]=u%i>>>0,u=u/i>>>0;if(0!==u)throw new Error("Non-zero carry");n=d,s++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var y=c.repeat(r);p<a;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:u,decode:function(e){var r=u(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}};const Dt=It;new Uint8Array(0);class Bt{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class zt{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Ot(this,e)}}class Lt{constructor(e){this.decoders=e}or(e){return Ot(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const Ot=(e,t)=>new Lt({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Rt{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new Bt(e,t,r),this.decoder=new zt(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Mt=e=>{let{name:t,prefix:r,encode:n,decode:s}=e;return new Rt(t,r,n,s)},_t=e=>{let{prefix:t,name:r,alphabet:n}=e;const{encode:s,decode:o}=Dt(n,r);return Mt({prefix:t,name:r,encode:s,decode:e=>(e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")})(o(e))})},Ht=e=>{let{name:t,prefix:r,bitsPerChar:n,alphabet:s}=e;return Mt({prefix:r,name:t,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],s=(1<<r)-1;let o="",a=0,i=0;for(let c=0;c<e.length;++c)for(i=i<<8|e[c],a+=8;a>r;)a-=r,o+=t[s&i>>a];if(a&&(o+=t[s&i<<r-a]),n)for(;o.length*r&7;)o+="=";return o})(e,s,n),decode:e=>((e,t,r,n)=>{const s={};for(let h=0;h<t.length;++h)s[t[h]]=h;let o=e.length;for(;"="===e[o-1];)--o;const a=new Uint8Array(o*r/8|0);let i=0,c=0,l=0;for(let h=0;h<o;++h){const t=s[e[h]];if(void 0===t)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|t,i+=r,i>=8&&(i-=8,a[l++]=255&c>>i)}if(i>=r||255&c<<8-i)throw new SyntaxError("Unexpected end of data");return a})(e,s,n,t)})},Vt=_t({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),qt=(_t({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Ht({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),Ft=(Ht({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ht({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ht({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ht({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ht({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ht({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ht({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ht({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Ht({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}));Ht({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ht({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ht({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function Jt(e){let t=function(e){const t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=e,t.destroy=()=>!0,t.extend=()=>t,t}("".concat(e,":trace"));return kt().enabled("".concat(e,":trace"))&&null!=kt().names.map((e=>e.toString())).find((e=>e.includes(":trace")))&&(t=kt()("".concat(e,":trace"))),Object.assign(kt()(e),{error:kt()("".concat(e,":error")),trace:t})}kt().formatters.b=e=>null==e?"undefined":Vt.baseEncode(e),kt().formatters.t=e=>null==e?"undefined":qt.baseEncode(e),kt().formatters.m=e=>null==e?"undefined":Ft.baseEncode(e),kt().formatters.p=e=>null==e?"undefined":e.toString(),kt().formatters.c=e=>null==e?"undefined":e.toString(),kt().formatters.k=e=>null==e?"undefined":e.toString(),kt().formatters.a=e=>null==e?"undefined":e.toString();var Wt=r(72637),Kt=r.n(Wt),Qt=r(94804),Zt=r(96118);function Gt(e){try{e=(0,Zt.k)((0,St.HM)(e))}catch(t){}return e=e.toString()}const Xt=Jt("js-kubo-rpc-client:lib:error-handler"),Yt=Qt.Z.bind({ignoreUndefined:!0}),$t=At.isBrowser||At.isWebWorker?location.protocol:"http",er=At.isBrowser||At.isWebWorker?location.hostname:"localhost",tr=At.isBrowser||At.isWebWorker?location.port:"5001",rr=async e=>{let t;try{if((e.headers.get("Content-Type")||"").startsWith("application/json")){const r=await e.json();Xt(r),t=r.Message||r.message}else t=await e.text()}catch(n){Xt("Failed to parse error response",n),t=n.message}let r=new(Kt().HTTPError)(e);throw t&&(t.includes("deadline has elapsed")&&(r=new(Kt().TimeoutError)),t&&t.includes("context deadline exceeded")&&(r=new(Kt().TimeoutError))),t&&t.includes("request timed out")&&(r=new(Kt().TimeoutError)),t&&(r.message=t),r},nr=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,sr=e=>e.replace(nr,(function(e){return"-"+e.toLowerCase()}));class or extends(Kt()){constructor(){var e;const t=function(){let e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};if("string"===typeof r||(0,St.h2)(r))e=new URL(Gt(r));else if(r instanceof URL)e=r;else if("string"===typeof r.url||(0,St.h2)(r.url))e=new URL(Gt(r.url)),n=r;else if(r.url instanceof URL)e=r.url,n=r;else{n=r||{};const t=(n.protocol||$t).replace(":",""),s=(n.host||er).split(":")[0],o=n.port||tr;e=new URL("".concat(t,"://").concat(s,":").concat(o))}if(n.apiPath?e.pathname=n.apiPath:"/"!==e.pathname&&void 0!==e.pathname||(e.pathname="api/v0"),At.isNode){const e=void 0;t=n.agent||new e({keepAlive:!0,maxSockets:6})}return{...n,host:e.host,protocol:e.protocol.replace(":",""),port:Number(e.port),apiPath:e.pathname,url:e,agent:t}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});var r;super({timeout:(r=t.timeout||0,("string"===typeof r?Ut(r):r)||void 0),headers:t.headers,base:"".concat(t.url),handleError:rr,transformSearchParams:e=>{const t=new URLSearchParams;for(const[r,n]of e)"undefined"!==n&&"null"!==n&&"signal"!==r&&t.append(sr(r),n),"timeout"!==r||isNaN(n)||t.append(sr(r),n);return t},agent:t.agent}),e=this,delete this.get,delete this.put,delete this.delete,delete this.options;const n=this.fetch;this.fetch=function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"!==typeof r||r.startsWith("/")||(r="".concat(t.url,"/").concat(r)),n.call(e,r,Yt(s,{method:"POST"}))}}}Kt().HTTPError;const ar=e=>t=>e(new or(t),t);function ir(e){if(null!=e)return"string"===typeof e?e:e.toString(8).padStart(4,"0")}var cr=r(67963),lr=r.n(cr);function hr(e){if(null==e)return;let t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){const r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:1e3*(r-1e3*n)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw lr()(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}function ur(){let{arg:e,searchParams:t,hashAlg:r,mtime:n,mode:s,...o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&(o={...o,...t}),r&&(o.hash=r),null!=n&&(n=hr(n),o.mtime=n.secs,o.mtimeNsecs=n.nsecs),null!=s&&(o.mode=ir(s)),o.timeout&&!isNaN(o.timeout)&&(o.timeout="".concat(o.timeout,"ms")),void 0===e||null===e?e=[]:Array.isArray(e)||(e=[e]);const a=new URLSearchParams(o);return e.forEach((e=>a.append("arg",e))),a}const dr=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return((await(await e.post("bitswap/wantlist",{signal:t.signal,searchParams:ur(t),headers:t.headers})).json()).Keys||[]).map((e=>ft.parse(e["/"])))})),fr=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return((await(await e.post("bitswap/wantlist",{signal:r.signal,searchParams:ur({...r,peer:t.toString()}),headers:r.headers})).json()).Keys||[]).map((e=>ft.parse(e["/"])))}));var pr=function e(t,r,n){r=r||[];var s=n=n||0;for(;t>=br;)r[n++]=255&t|yr,t/=128;for(;t&gr;)r[n++]=255&t|yr,t>>>=7;return r[n]=0|t,e.bytes=n-s+1,r},yr=128,gr=-128,br=Math.pow(2,31);var mr=function e(t,r){var n,s=0,o=0,a=r=r||0,i=t.length;do{if(a>=i)throw e.bytes=0,new RangeError("Could not decode varint");n=t[a++],s+=o<28?(n&vr)<<o:(n&vr)*Math.pow(2,o),o+=7}while(n>=wr);return e.bytes=a-r,s},wr=128,vr=127;var Er=Math.pow(2,7),Pr=Math.pow(2,14),xr=Math.pow(2,21),Sr=Math.pow(2,28),Ar=Math.pow(2,35),Cr=Math.pow(2,42),Tr=Math.pow(2,49),jr=Math.pow(2,56),Ur=Math.pow(2,63);const Nr={encode:pr,decode:mr,encodingLength:function(e){return e<Er?1:e<Pr?2:e<xr?3:e<Sr?4:e<Ar?5:e<Cr?6:e<Tr?7:e<jr?8:e<Ur?9:10}},kr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[Nr.decode(e,t),Nr.decode.bytes]},Ir=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Nr.encode(e,t,r),t},Dr=e=>Nr.encodingLength(e),Br=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}),zr=(e,t)=>{const r=t.byteLength,n=Dr(e),s=n+Dr(r),o=new Uint8Array(s+r);return Ir(e,o,0),Ir(r,o,n),o.set(t,s),new Or(e,r,t,o)},Lr=e=>{const t=Br(e),[r,n]=kr(t),[s,o]=kr(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==s)throw new Error("Incorrect length");return new Or(r,s,a,t)};class Or{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}var Rr=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),a=o.charCodeAt(0);if(255!==r[a])throw new TypeError(o+" is ambiguous");r[a]=s}var i=e.length,c=e.charAt(0),l=Math.log(i)/Math.log(256),h=Math.log(256)/Math.log(i);function u(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,s=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var u=0,d=o-1;(0!==h||u<s)&&-1!==d;d--,u++)h+=i*a[d]>>>0,a[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=u,t++}if(" "!==e[t]){for(var f=o-s;f!==o&&0===a[f];)f++;for(var p=new Uint8Array(n+(o-f)),y=n;f!==o;)p[y++]=a[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,s=0,o=t.length;s!==o&&0===t[s];)s++,r++;for(var a=(o-s)*h+1>>>0,l=new Uint8Array(a);s!==o;){for(var u=t[s],d=0,f=a-1;(0!==u||d<n)&&-1!==f;f--,d++)u+=256*l[f]>>>0,l[f]=u%i>>>0,u=u/i>>>0;if(0!==u)throw new Error("Non-zero carry");n=d,s++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var y=c.repeat(r);p<a;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:u,decode:function(e){var r=u(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}};const Mr=Rr;class _r{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class Hr{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return qr(this,e)}}class Vr{constructor(e){this.decoders=e}or(e){return qr(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const qr=(e,t)=>new Vr({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Fr{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new _r(e,t,r),this.decoder=new Hr(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Jr=e=>{let{name:t,prefix:r,encode:n,decode:s}=e;return new Fr(t,r,n,s)},Wr=e=>{let{prefix:t,name:r,alphabet:n}=e;const{encode:s,decode:o}=Mr(n,r);return Jr({prefix:t,name:r,encode:s,decode:e=>Br(o(e))})},Kr=e=>{let{name:t,prefix:r,bitsPerChar:n,alphabet:s}=e;return Jr({prefix:r,name:t,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],s=(1<<r)-1;let o="",a=0,i=0;for(let c=0;c<e.length;++c)for(i=i<<8|e[c],a+=8;a>r;)a-=r,o+=t[s&i>>a];if(a&&(o+=t[s&i<<r-a]),n)for(;o.length*r&7;)o+="=";return o})(e,s,n),decode:e=>((e,t,r,n)=>{const s={};for(let h=0;h<t.length;++h)s[t[h]]=h;let o=e.length;for(;"="===e[o-1];)--o;const a=new Uint8Array(o*r/8|0);let i=0,c=0,l=0;for(let h=0;h<o;++h){const t=s[e[h]];if(void 0===t)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|t,i+=r,i>=8&&(i-=8,a[l++]=255&c>>i)}if(i>=r||255&c<<8-i)throw new SyntaxError("Unexpected end of data");return a})(e,s,n,t)})},Qr=Wr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Zr=Wr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Gr=Kr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Xr=Kr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Yr=Kr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$r=Kr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),en=Kr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tn=Kr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rn=Kr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),nn=Kr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),sn=Kr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),on=(e,t)=>{const{bytes:r,version:n}=e;return 0===n?un(r,cn(e),t||Qr.encoder):dn(r,cn(e),t||Gr.encoder)},an=new WeakMap,cn=e=>{const t=an.get(e);if(null==t){const t=new Map;return an.set(e,t),t}return t};class ln{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==fn)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==pn)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ln.createV0(t)}default:throw Error("Can not convert CID version ".concat(this.version," to version 0. This is a bug please report"))}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=zr(e,t);return ln.createV1(this.code,r)}case 1:return this;default:throw Error("Can not convert CID version ".concat(this.version," to version 1. This is a bug please report"))}}equals(e){return ln.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&((e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,r.bytes)}})(e.multihash,r.multihash)}toString(e){return on(this,e)}toJSON(){return{"/":on(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID(".concat(this.toString(),")")}static asCID(e){if(null==e)return null;const t=e;if(t instanceof ln)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:n,bytes:s}=t;return new ln(e,r,n,s||yn(e,r,n.bytes))}if(!0===t[gn]){const{version:e,multihash:r,code:n}=t,s=Lr(r);return ln.create(e,n,s)}return null}static create(e,t,r){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==fn)throw new Error("Version 0 CID must use dag-pb (code: ".concat(fn,") block encoding"));return new ln(e,t,r,r.bytes);case 1:{const n=yn(e,t,r.bytes);return new ln(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return ln.create(0,fn,e)}static createV1(e,t){return ln.create(1,e,t)}static decode(e){const[t,r]=ln.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=ln.inspectBytes(e),r=t.size-t.multihashSize,n=Br(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=n.subarray(t.multihashSize-t.digestSize),o=new Or(t.multihashCode,t.digestSize,s,n);return[0===t.version?ln.createV0(o):ln.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=kr(e.subarray(t));return t+=n,r};let n=r(),s=fn;if(18===n?(n=0,t=0):s=r(),0!==n&&1!==n)throw new RangeError("Invalid CID version ".concat(n));const o=t,a=r(),i=r(),c=t+i;return{version:n,codec:s,multihashCode:a,digestSize:i,multihashSize:c-o,size:c}}static parse(e,t){const[r,n]=hn(e,t),s=ln.decode(n);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return cn(s).set(r,e),s}}const hn=(e,t)=>{switch(e[0]){case"Q":{const r=t||Qr;return[Qr.prefix,r.decode("".concat(Qr.prefix).concat(e))]}case Qr.prefix:{const r=t||Qr;return[Qr.prefix,r.decode(e)]}case Gr.prefix:{const r=t||Gr;return[Gr.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},un=(e,t,r)=>{const{prefix:n}=r;if(n!==Qr.prefix)throw Error("Cannot string encode V0 in ".concat(r.name," encoding"));const s=t.get(n);if(null==s){const s=r.encode(e).slice(1);return t.set(n,s),s}return s},dn=(e,t,r)=>{const{prefix:n}=r,s=t.get(n);if(null==s){const s=r.encode(e);return t.set(n,s),s}return s},fn=112,pn=18,yn=(e,t,r)=>{const n=Dr(e),s=n+Dr(t),o=new Uint8Array(s+r.byteLength);return Ir(e,o,0),Ir(t,o,n),o.set(r,s),o},gn=Symbol.for("@ipld/js-cid/CID"),bn=Jr({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),mn=Kr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),wn=Kr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),vn=Wr({prefix:"9",name:"base10",alphabet:"0123456789"}),En=Kr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Pn=Kr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),xn=Wr({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Sn=Wr({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),An=Kr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Cn=Kr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Tn=Kr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),jn=Kr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Un=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Nn=Un.reduce(((e,t,r)=>(e[r]=t,e)),[]),kn=Un.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const In=Jr({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=Nn[t]),"")},decode:function(e){const t=[];for(const r of e){const e=kn[r.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(r));t.push(e)}return new Uint8Array(t)}}),Dn=e=>{let{name:t,code:r,encode:n}=e;return new Bn(t,r,n)};class Bn{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?zr(this.code,t):t.then((e=>zr(this.code,e)))}throw Error("Unknown type, must be binary type")}}const zn=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ln=Dn({name:"sha2-256",code:18,encode:zn("SHA-256")}),On=Dn({name:"sha2-512",code:19,encode:zn("SHA-512")}),Rn=Br,Mn={code:0,name:"identity",encode:Rn,digest:e=>zr(0,Rn(e))},_n="raw",Hn=85,Vn=e=>Br(e),qn=e=>Br(e),Fn=new TextEncoder,Jn=new TextDecoder,Wn="json",Kn=512,Qn=e=>Fn.encode(JSON.stringify(e)),Zn=e=>JSON.parse(Jn.decode(e)),Gn={...w,...v,...E,...P,...x,...m,...S,...b,...A,...C};var Xn=r(1202),Yn=r(96156);class $n extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The operation was aborted"),(0,Yn.Z)(this,"code",void 0),(0,Yn.Z)(this,"type",void 0),this.code=$n.code,this.type=$n.type}}(0,Yn.Z)($n,"code","ABORT_ERR"),(0,Yn.Z)($n,"type","aborted");const es=Symbol.for("@libp2p/peer-id");const ts=Symbol.for("nodejs.util.inspect.custom"),rs=Object.values(Gn).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),Gn.identity.decoder),ns=114,ss=36,os=37;class as{constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PeerId(".concat(this.toString(),")")}get[es](){return!0}toString(){return null==this.string&&(this.string=Qr.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return ln.createV1(ns,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){var t;if(e instanceof Uint8Array)return(0,Xn.f)(this.multihash.bytes,e);if("string"===typeof e)return hs(e).equals(this);if(null!=(null===e||void 0===e||null===(t=e.multihash)||void 0===t?void 0:t.bytes))return(0,Xn.f)(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[ts](){return"PeerId(".concat(this.toString(),")")}}class is extends as{constructor(e){super({...e,type:"RSA"}),this.type="RSA",this.publicKey=e.publicKey}}class cs extends as{constructor(e){super({...e,type:"Ed25519"}),this.type="Ed25519",this.publicKey=e.multihash.digest}}class ls extends as{constructor(e){super({...e,type:"secp256k1"}),this.type="secp256k1",this.publicKey=e.multihash.digest}}function hs(e,t){var r;if(t=null!==(r=t)&&void 0!==r?r:rs,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=Lr(Qr.decode("z".concat(e)));return e.startsWith("12D")?new cs({multihash:t}):e.startsWith("16U")?new ls({multihash:t}):new is({multihash:t})}return function(e){try{const t=Lr(e);if(t.code===Mn.code){if(t.digest.length===ss)return new cs({multihash:t});if(t.digest.length===os)return new ls({multihash:t})}if(t.code===Ln.code)return new is({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==ns)throw new Error("Supplied PeerID CID is invalid");const t=e.multihash;if(t.code===Ln.code)return new is({multihash:e.multihash});if(t.code===Mn.code){if(t.digest.length===ss)return new cs({multihash:e.multihash});if(t.digest.length===os)return new ls({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(ln.decode(e))}throw new Error("Supplied PeerID CID is invalid")}(rs.decode(e))}const us=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("bitswap/stat",{searchParams:ur(t),signal:t.signal,headers:t.headers});return function(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist||[]).map((e=>ft.parse(e["/"]))),peers:(e.Peers||[]).map((e=>hs(e))),blocksReceived:BigInt(e.BlocksReceived),dataReceived:BigInt(e.DataReceived),blocksSent:BigInt(e.BlocksSent),dataSent:BigInt(e.DataSent),dupBlksReceived:BigInt(e.DupBlksReceived),dupDataReceived:BigInt(e.DupDataReceived)}}(await r.json())}));const ds=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("block/get",{signal:r.signal,searchParams:ur({arg:t.toString(),...r}),headers:r.headers});return new Uint8Array(await n.arrayBuffer())}));function fs(e){const[t,r]=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>t.next(),push:e=>{n.push(e)},next:()=>n.length>0?{done:!1,value:n.shift()}:t.next(),[r](){return this}}}var ps=r(75584);async function ys(e){const t=[];for await(const r of e)t.push(r);return t}function gs(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function bs(e){return e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"===typeof e.stream}function ms(e){return"object"===typeof e&&(e.path||e.content)}const ws=e=>e&&"function"===typeof e.getReader;async function vs(e){if(gs(e))return new Blob([e]);if("string"===typeof e||e instanceof String)return new Blob([e.toString()]);if(bs(e))return e;if(ws(e)&&(e=(0,ps.Z)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const t=fs(e),{value:r,done:n}=await t.peek();if(n)return Es(t);if(t.push(r),Number.isInteger(r))return new Blob([Uint8Array.from(await ys(t))]);if(gs(r)||"string"===typeof r||r instanceof String)return Es(t)}throw lr()(new Error("Unexpected input: ".concat(e)),"ERR_UNEXPECTED_INPUT")}async function Es(e){const t=[];for await(const r of e)t.push(r);return new Blob(t)}async function*Ps(e,t){for await(const r of e)yield t(r)}var xs=r(31708),Ss=r.n(xs);const As=Ss().Reader,Cs=Ss().Writer,Ts=Ss().util,js=Ss().roots["ipfs-unixfs"]||(Ss().roots["ipfs-unixfs"]={});js.Data=(()=>{function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Type=0,e.prototype.Data=Ts.newBuffer([]),e.prototype.filesize=Ts.Long?Ts.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=Ts.emptyArray,e.prototype.hashType=Ts.Long?Ts.Long.fromBits(0,0,!0):0,e.prototype.fanout=Ts.Long?Ts.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=Cs.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&js.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof As||(e=As.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new js.Data;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),2===(7&s))for(var o=e.uint32()+e.pos;e.pos<o;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=js.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&s)}}if(!n.hasOwnProperty("Type"))throw Ts.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof js.Data)return e;var t=new js.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"===typeof e.Data?Ts.base64.decode(e.Data,t.Data=Ts.newBuffer(Ts.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(Ts.Long?(t.filesize=Ts.Long.fromValue(e.filesize)).unsigned=!0:"string"===typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"===typeof e.filesize?t.filesize=e.filesize:"object"===typeof e.filesize&&(t.filesize=new Ts.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)Ts.Long?(t.blocksizes[r]=Ts.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"===typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"===typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"===typeof e.blocksizes[r]&&(t.blocksizes[r]=new Ts.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&(Ts.Long?(t.hashType=Ts.Long.fromValue(e.hashType)).unsigned=!0:"string"===typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"===typeof e.hashType?t.hashType=e.hashType:"object"===typeof e.hashType&&(t.hashType=new Ts.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(Ts.Long?(t.fanout=Ts.Long.fromValue(e.fanout)).unsigned=!0:"string"===typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"===typeof e.fanout?t.fanout=e.fanout:"object"===typeof e.fanout&&(t.fanout=new Ts.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!==typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=js.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=Ts.newBuffer(r.Data))),Ts.Long){var n=new Ts.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;if(Ts.Long){n=new Ts.Long(0,0,!0);r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.hashType=t.longs===String?"0":0;if(Ts.Long){n=new Ts.Long(0,0,!0);r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.fanout=t.longs===String?"0":0;r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?js.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?Ts.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"===typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?Ts.Long.prototype.toString.call(e.filesize):t.longs===Number?new Ts.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var s=0;s<e.blocksizes.length;++s)"number"===typeof e.blocksizes[s]?r.blocksizes[s]=t.longs===String?String(e.blocksizes[s]):e.blocksizes[s]:r.blocksizes[s]=t.longs===String?Ts.Long.prototype.toString.call(e.blocksizes[s]):t.longs===Number?new Ts.LongBits(e.blocksizes[s].low>>>0,e.blocksizes[s].high>>>0).toNumber(!0):e.blocksizes[s]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"===typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?Ts.Long.prototype.toString.call(e.hashType):t.longs===Number?new Ts.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"===typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?Ts.Long.prototype.toString.call(e.fanout):t.longs===Number?new Ts.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=js.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ss().util.toJSONOptions)},e.DataType=function(){const e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e})(),js.UnixTime=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=Ts.Long?Ts.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=Cs.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof As||(e=As.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new js.UnixTime;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&s)}}if(!n.hasOwnProperty("Seconds"))throw Ts.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof js.UnixTime)return e;var t=new js.UnixTime;return null!=e.Seconds&&(Ts.Long?(t.Seconds=Ts.Long.fromValue(e.Seconds)).unsigned=!1:"string"===typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"===typeof e.Seconds?t.Seconds=e.Seconds:"object"===typeof e.Seconds&&(t.Seconds=new Ts.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(Ts.Long){var n=new Ts.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"===typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?Ts.Long.prototype.toString.call(e.Seconds):t.longs===Number?new Ts.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ss().util.toJSONOptions)},e})(),js.Metadata=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=Cs.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof As||(e=As.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new js.Metadata;e.pos<r;){var s=e.uint32();if(s>>>3===1)n.MimeType=e.string();else e.skipType(7&s)}return n},e.fromObject=function(e){if(e instanceof js.Metadata)return e;var t=new js.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ss().util.toJSONOptions)},e})(),parseInt("0644",8),parseInt("0755",8);function Us(e){if(null!=e)return"number"===typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function Ns(e){if(null==e)return;let t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){const r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:1e3*(r-1e3*n)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw lr()(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}async function ks(e,t){const{path:r,mode:n,mtime:s,content:o}=e,a={path:r||"",mode:Us(n),mtime:Ns(s)};return o?a.content=await t(o):r||(a.content=await t(e)),a}function Is(e){return async function*(e,t){if("string"===typeof e||e instanceof String||gs(e)||bs(e)||e._readableState)throw lr()(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(ws(e)&&(e=(0,ps.Z)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const r=fs(e),{value:n,done:s}=await r.peek();if(s)return void(yield*[]);if(r.push(n),Number.isInteger(n))throw lr()(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState)return void(yield*Ps(r,(e=>ks({content:e},t))));if(gs(n))return void(yield ks({content:r},t));if(ms(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||ws(n)||bs(n))return void(yield*Ps(r,(e=>ks(e,t))))}if(ms(e))throw lr()(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw lr()(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}(e,vs)}function Ds(e){if(null!=e)return"string"===typeof e?e:e.toString(8).padStart(4,"0")}async function Bs(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=[],s=new FormData;let o=0,a=0;for await(const{content:i,path:c,mode:l,mtime:h}of Is(e)){let e="";const t=i?"file":"dir";o>0&&(e="-".concat(o));let r=t+e;const u=[];if(null!==l&&void 0!==l&&u.push("mode=".concat(Ds(l))),null!=h){const{secs:e,nsecs:t}=h;u.push("mtime=".concat(e)),null!=t&&u.push("mtime-nsecs=".concat(t))}if(u.length&&(r="".concat(r,"?").concat(u.join("&"))),i){s.set(r,i,null!=c?encodeURIComponent(c):void 0);const e=a+i.size;n.push({name:c,start:a,end:e}),a=e}else{if(null==c)throw new Error("path or content or both must be set");s.set(r,new File([""],encodeURIComponent(c),{type:"application/x-directory"}))}o++}return{total:a,parts:n,headers:r,body:s}}var zs=r(64736);function Ls(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,zs.anySignal)(function(e){return e.filter(Boolean)}(t))}const Os=ar(((e,t)=>async function t(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=new AbortController,o=Ls(s.signal,n.signal);let a;try{const t=await e.post("block/put",{signal:o,searchParams:ur(n),...await Bs([r],s,n.headers)});a=await t.json()}catch(i){if("dag-pb"===n.format)return t(r,{...n,format:"protobuf"});if("dag-cbor"===n.format)return t(r,{...n,format:"cbor"});throw i}return ft.parse(a.Key)})),Rs=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){Array.isArray(t)||(t=[t]);const n=await e.post("block/rm",{signal:r.signal,searchParams:ur({arg:t.map((e=>e.toString())),"stream-channels":!0,...r}),headers:r.headers});for await(const e of n.ndjson())yield Ms(e)}()}catch(r){return Promise.reject(r)}}));function Ms(e){const t={cid:ft.parse(e.Hash)};return e.Error&&(t.error=new Error(e.Error)),t}const _s=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("block/stat",{signal:r.signal,searchParams:ur({arg:t.toString(),...r}),headers:r.headers}),s=await n.json();return{cid:ft.parse(s.Key),size:s.Size}}));function Hs(e){return{get:ds(e),put:Os(e),rm:Rs(e),stat:_s(e)}}const Vs=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("bootstrap/add",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers}),{Peers:s}=await n.json();return{Peers:s.map((e=>(0,St.HM)(e)))}})),qs=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("bootstrap/list",{signal:t.signal,searchParams:ur(t),headers:t.headers}),{Peers:n}=await r.json();return{Peers:n.map((e=>(0,St.HM)(e)))}})),Fs=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("bootstrap/rm",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers}),{Peers:s}=await n.json();return{Peers:s.map((e=>(0,St.HM)(e)))}}));function Js(e){return{add:Vs(e),list:qs(e),rm:Fs(e)}}const Ws=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("config/profile/apply",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers}),s=await n.json();return{original:s.OldCfg,updated:s.NewCfg}}));function Ks(e){return{apply:Ws(e)}}const Qs=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("key argument is required");const n=await e.post("config",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers});return(await n.json()).Value})),Zs=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("config/show",{signal:t.signal,searchParams:ur({...t}),headers:t.headers});return await r.json()}));var Gs=r(80540);const Xs=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new AbortController,s=Ls(n.signal,r.signal),o=await e.post("config/replace",{signal:s,searchParams:ur(r),...await Bs([(0,Gs.m)(JSON.stringify(t))],n,r.headers)});await o.text()})),Ys=ar((e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!==typeof t)throw new Error("Invalid key type");const s={...n,...$s(t,r)},o=await e.post("config",{signal:n.signal,searchParams:ur(s),headers:n.headers});await o.text()})),$s=(e,t)=>{switch(typeof t){case"boolean":return{arg:[e,t.toString()],bool:!0};case"string":return{arg:[e,t]};default:return{arg:[e,JSON.stringify(t)],json:!0}}};function eo(e){return{getAll:Zs(e),get:Qs(e),set:Ys(e),replace:Xs(e),profiles:Ks(e)}}const to=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const n=await e.post("dag/export",{signal:r.signal,searchParams:ur({arg:t.toString()}),headers:r.headers});yield*n.iterator()}()}catch(r){return Promise.reject(r)}}));async function*ro(e,t,r,n,s){const o=async e=>{const t=await r.getCodec(e.code),o=await n(e,s);return t.decode(o)},a=t.split("/").filter(Boolean);let i=await o(e),c=e;for(;a.length;){const e=a.shift();if(!e)throw lr()(new Error('Could not resolve path "'.concat(t,'"')),"ERR_INVALID_PATH");if(!Object.prototype.hasOwnProperty.call(i,e))throw lr()(new Error('no link named "'.concat(e,'" under ').concat(c)),"ERR_NO_LINK");i=i[e],yield{value:i,remainderPath:a.join("/")};const r=ft.asCID(i);r&&(c=r,i=await o(i))}yield{value:i,remainderPath:""}}async function no(e){let t;for await(const r of e)t=r;return t}const so=(e,t)=>{const r=ar(((t,r)=>{const n=ds(r);return async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.path){const s=r.localResolve?await async function(e){for await(const t of e)return t}(ro(t,r.path,e,n,r)):await no(ro(t,r.path,e,n,r)),o=s;if(!o)throw lr()(new Error("Not found"),"ERR_NOT_FOUND");return o}const s=await e.getCodec(t.code),o=await n(t,r);return{value:s.decode(o),remainderPath:""}}}));return r(t)},oo=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const n=new AbortController,s=Ls(n.signal,r.signal),{headers:o,body:a}=await Bs(t,n,r.headers),i=await e.post("dag/import",{signal:s,headers:o,body:a,searchParams:ur({"pin-roots":r.pinRoots})});for await(const{Root:e}of i.ndjson())if(void 0!==e){const{Cid:{"/":t},PinErrorMsg:r}=e;yield{root:{cid:ft.parse(t),pinErrorMsg:r}}}}()}catch(r){return Promise.reject(r)}})),ao=(e,t)=>ar((t=>async function(r){const n={storeCodec:"dag-cbor",hashAlg:"sha2-256",...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};let s;if(n.inputCodec){if(!(r instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");s=r}else{s=(await e.getCodec(n.storeCodec)).encode(r),n.inputCodec=n.storeCodec}const o=new AbortController,a=Ls(o.signal,n.signal),i=await t.post("dag/put",{timeout:n.timeout,signal:a,searchParams:ur(n),...await Bs([s],o,n.headers)}),c=await i.json();return ft.parse(c.Cid["/"])}))(t),io=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("dag/resolve",{signal:r.signal,searchParams:ur({arg:"".concat(t).concat(r.path?"/".concat(r.path).replace(/\/[/]+/g,"/"):""),...r}),headers:r.headers}),s=await n.json();return{cid:ft.parse(s.Cid["/"]),remainderPath:s.RemPath}}));function co(e,t){return{export:to(t),get:so(e,t),import:oo(t),put:ao(e,t),resolve:io(t)}}const lo=e=>{if(0===e.Type)return{name:"SENDING_QUERY",type:e.Type};if(1===e.Type)return{from:hs(e.ID),name:"PEER_RESPONSE",type:e.Type,messageType:0,messageName:"PUT_VALUE",closer:(e.Responses||[]).map((e=>{let{ID:t,Addrs:r}=e;return{id:hs(t),multiaddrs:r.map((e=>(0,St.HM)(e))),protocols:[]}})),providers:(e.Responses||[]).map((e=>{let{ID:t,Addrs:r}=e;return{id:hs(t),multiaddrs:r.map((e=>(0,St.HM)(e))),protocols:[]}}))};if(2===e.Type){var t;let r={id:null!==(t=e.ID)&&void 0!==t?t:hs(e.ID),multiaddrs:[],protocols:[]};return e.Responses&&e.Responses.length&&(r={id:hs(e.Responses[0].ID),multiaddrs:e.Responses[0].Addrs.map((e=>(0,St.HM)(e))),protocols:[]}),{name:"FINAL_PEER",type:e.Type,peer:r}}if(3===e.Type)return{name:"QUERY_ERROR",type:e.Type,error:new Error(e.Extra)};if(4===e.Type)return{name:"PROVIDER",type:e.Type,providers:e.Responses.map((e=>{let{ID:t,Addrs:r}=e;return{id:hs(t),multiaddrs:r.map((e=>(0,St.HM)(e))),protocols:[]}}))};if(5===e.Type)return{name:"VALUE",type:e.Type,value:(0,Gs.m)(e.Extra,"base64pad")};if(6===e.Type){const t=e.Responses.map((e=>{let{ID:t}=e;return hs(t)}));if(!t.length)throw new Error("No peer found");return{name:"ADDING_PEER",type:e.Type,peer:t[0]}}if(7===e.Type)return{name:"DIALING_PEER",type:e.Type,peer:hs(e.ID)};throw new Error("Unknown DHT event type")},ho=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const n=await e.post("dht/findpeer",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers});for await(const e of n.ndjson())yield lo(e)}()}catch(r){return Promise.reject(r)}})),uo=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const n=await e.post("dht/findprovs",{signal:r.signal,searchParams:ur({arg:t.toString(),...r}),headers:r.headers});for await(const e of n.ndjson())yield lo(e)}()}catch(r){return Promise.reject(r)}}));var fo=r(18601);const po=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const n=await e.post("dht/get",{signal:r.signal,searchParams:ur({arg:t instanceof Uint8Array?(0,fo.B)(t):t.toString(),...r}),headers:r.headers});for await(const e of n.ndjson())yield lo(e)}()}catch(r){return Promise.reject(r)}})),yo=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{recursive:!1};return async function*(){const n=Array.isArray(t)?t:[t],s=await e.post("dht/provide",{signal:r.signal,searchParams:ur({arg:n.map((e=>e.toString())),...r}),headers:r.headers});for await(const e of s.ndjson())yield lo(e)}()}catch(r){return Promise.reject(r)}})),go=ar((e=>function(t,r){try{let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return async function*(){const s=new AbortController,o=Ls(s.signal,n.signal),a=await e.post("dht/put",{signal:o,searchParams:ur({arg:t instanceof Uint8Array?(0,fo.B)(t):t.toString(),...n}),...await Bs([r],s,n.headers)});for await(const e of a.ndjson())yield lo(e)}()}catch(n){return Promise.reject(n)}})),bo=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const n=await e.post("dht/query",{signal:r.signal,searchParams:ur({arg:t.toString(),...r}),headers:r.headers});for await(const e of n.ndjson())yield lo(e)}()}catch(r){return Promise.reject(r)}}));function mo(e){return{findPeer:ho(e),findProvs:uo(e),get:po(e),provide:yo(e),put:go(e),query:bo(e)}}const wo=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await e.post("diag/cmds",{signal:t.signal,searchParams:ur(t),headers:t.headers})).json()})),vo=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await e.post("diag/net",{signal:t.signal,searchParams:ur(t),headers:t.headers})).json()})),Eo=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await e.post("diag/sys",{signal:t.signal,searchParams:ur(t),headers:t.headers})).json()}));function Po(e){return{cmds:wo(e),net:vo(e),sys:Eo(e)}}const xo=ar((e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=Array.isArray(t)?t:[t],o=await e.post("files/cp",{signal:n.signal,searchParams:ur({arg:s.concat(r).map((e=>ft.asCID(e)?"/ipfs/".concat(e):e)),...n}),headers:n.headers});await o.text()})),So=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||"string"!==typeof t)throw new Error("ipfs.files.flush requires a path");const n=await e.post("files/flush",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers}),s=await n.json();return ft.parse(s.Cid)}));function Ao(e){if(null==e)return e;const t=/^[A-Z]+$/;return Object.keys(e).reduce(((r,n)=>(t.test(n)?r[n.toLowerCase()]=e[n]:t.test(n[0])?r[n[0].toLowerCase()+n.slice(1)]=e[n]:r[n]=e[n],r)),{})}function Co(e){const t=Ao(e);return Object.prototype.hasOwnProperty.call(t,"mode")&&(t.mode=parseInt(t.mode,8)),Object.prototype.hasOwnProperty.call(t,"mtime")&&(t.mtime={secs:t.mtime,nsecs:t.mtimeNsecs||0},delete t.mtimeNsecs),t}const To=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){if(!t)throw new Error("ipfs.files.ls requires a path");const n=await e.post("files/ls",{signal:r.signal,searchParams:ur({arg:ft.asCID(t)?"/ipfs/".concat(t):t,long:!0,...r,stream:!0}),headers:r.headers});for await(const e of n.ndjson())if("Entries"in e)for(const t of e.Entries||[])yield jo(Co(t));else yield jo(Co(e))}()}catch(r){return Promise.reject(r)}}));function jo(e){return e.hash&&(e.cid=ft.parse(e.hash)),delete e.hash,e.type=1===e.type?"directory":"file",e}const Uo=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("files/mkdir",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers});await n.text()})),No=ar((e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);const s=await e.post("files/mv",{signal:n.signal,searchParams:ur({arg:t.concat(r),...n}),headers:n.headers});await s.text()}));var ko=r(66662),Io=r.n(ko);const Do=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const n=await e.post("files/read",{signal:r.signal,searchParams:ur({arg:t,count:r.length,...r}),headers:r.headers});yield*Io()(n.body)}()}catch(r){return Promise.reject(r)}})),Bo=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("files/rm",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers}),s=await n.text();if(""!==s){const e=new(Kt().HTTPError)(n);throw e.message=s,e}})),zo=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("files/stat",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers}),s=await n.json();return s.WithLocality=s.WithLocality||!1,(o=Co(s)).cid=ft.parse(o.hash),delete o.hash,o;var o}));const Lo=ar((e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new AbortController,o=Ls(s.signal,n.signal),a=await e.post("files/write",{signal:o,searchParams:ur({arg:t,streamChannels:!0,count:n.length,...n}),...await Bs([{content:r,path:"arg",mode:ir(n.mode),mtime:hr(n.mtime)}],s,n.headers)});await a.text()}));function Oo(e){return{cp:xo(e),flush:So(e),ls:To(e),mkdir:Uo(e),mv:No(e),read:Do(e),rm:Bo(e),stat:zo(e),write:Lo(e)}}const Ro=ar((e=>async function(e,t){throw lr()(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})),Mo={type:"ed25519"},_o=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mo;const n=await e.post("key/gen",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers});return Ao(await n.json())})),Ho=ar((e=>async function(t,r,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=await e.post("key/import",{signal:s.signal,searchParams:ur({arg:t,pem:r,password:n,...s}),headers:s.headers});return Ao(await o.json())})),Vo=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("key/list",{signal:t.signal,searchParams:ur(t),headers:t.headers});return((await r.json()).Keys||[]).map((e=>Ao(e)))})),qo=ar((e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=await e.post("key/rename",{signal:n.signal,searchParams:ur({arg:[t,r],...n}),headers:n.headers});return Ao(await s.json())})),Fo=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("key/rm",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers});return Ao((await n.json()).Keys[0])}));function Jo(e){return{export:Ro(e),gen:_o(e),import:Ho(e),list:Vo(e),rename:qo(e),rm:Fo(e)}}const Wo=ar((e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=await e.post("log/level",{signal:n.signal,searchParams:ur({arg:[t,r],...n}),headers:n.headers});return Ao(await s.json())})),Ko=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("log/ls",{signal:t.signal,searchParams:ur(t),headers:t.headers});return(await r.json()).Strings})),Qo=ar((e=>function(){try{let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){const r=await e.post("log/tail",{signal:t.signal,searchParams:ur(t),headers:t.headers});yield*r.ndjson()}()}catch(t){return Promise.reject(t)}}));function Zo(e){return{level:Wo(e),ls:Ko(e),tail:Qo(e)}}const Go=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("name/publish",{signal:r.signal,searchParams:ur({arg:"".concat(t),...r}),headers:r.headers});return Ao(await n.json())})),Xo=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const n=await e.post("name/resolve",{signal:r.signal,searchParams:ur({arg:t,stream:!0,...r}),headers:r.headers});for await(const e of n.ndjson())yield e.Path}()}catch(r){return Promise.reject(r)}})),Yo=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("name/pubsub/cancel",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers});return Ao(await n.json())})),$o=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("name/pubsub/state",{signal:t.signal,searchParams:ur(t),headers:t.headers});return Ao(await r.json())})),ea=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("name/pubsub/subs",{signal:t.signal,searchParams:ur(t),headers:t.headers});return(await r.json()).Strings||[]}));function ta(e){return{cancel:Yo(e),state:$o(e),subs:ea(e)}}function ra(e){return{publish:Go(e),resolve:Xo(e),pubsub:ta(e)}}const na=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("object/data",{signal:r.signal,searchParams:ur({arg:"".concat(t instanceof Uint8Array?ft.decode(t):t),...r}),headers:r.headers}),s=await n.arrayBuffer();return new Uint8Array(s,0,s.byteLength)})),sa=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("object/get",{signal:r.signal,searchParams:ur({arg:"".concat(t instanceof Uint8Array?ft.decode(t):t),dataEncoding:"base64",...r}),headers:r.headers}),s=await n.json();return{Data:(0,Gs.m)(s.Data,"base64pad"),Links:(s.Links||[]).map((e=>({Name:e.Name,Hash:ft.parse(e.Hash),Tsize:e.Size})))}})),oa=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("object/links",{signal:r.signal,searchParams:ur({arg:"".concat(t instanceof Uint8Array?ft.decode(t):t),...r}),headers:r.headers});return((await n.json()).Links||[]).map((e=>({Name:e.Name,Tsize:e.Size,Hash:ft.parse(e.Hash)})))})),aa=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("object/new",{signal:t.signal,searchParams:ur({arg:t.template,...t}),headers:t.headers}),{Hash:n}=await r.json();return ft.parse(n)})),ia=(e,t)=>ar((r=>{const n=ao(e,t);return async function(e){return n(e,{...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})}}))(t),ca=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("object/stat",{signal:r.signal,searchParams:ur({arg:"".concat(t),...r}),headers:r.headers}),s=await n.json();return{...s,Hash:ft.parse(s.Hash)}})),la=ar((e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=await e.post("object/patch/add-link",{signal:n.signal,searchParams:ur({arg:["".concat(t),r.Name||r.name||"",(r.Hash||r.cid||"").toString()||null],...n}),headers:n.headers}),{Hash:o}=await s.json();return ft.parse(o)})),ha=ar((e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new AbortController,o=Ls(s.signal,n.signal),a=await e.post("object/patch/append-data",{signal:o,searchParams:ur({arg:"".concat(t),...n}),...await Bs([r],s,n.headers)}),{Hash:i}=await a.json();return ft.parse(i)})),ua=ar((e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=await e.post("object/patch/rm-link",{signal:n.signal,searchParams:ur({arg:["".concat(t),r.Name||r.name||null],...n}),headers:n.headers}),{Hash:o}=await s.json();return ft.parse(o)})),da=ar((e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new AbortController,o=Ls(s.signal,n.signal),a=await e.post("object/patch/set-data",{signal:o,searchParams:ur({arg:["".concat(t)],...n}),...await Bs([r],s,n.headers)}),{Hash:i}=await a.json();return ft.parse(i)}));function fa(e){return{addLink:la(e),appendData:ha(e),rmLink:ua(e),setData:da(e)}}function pa(e,t){return{data:na(t),get:sa(t),links:oa(t),new:aa(t),put:ia(e,t),stat:ca(t),patch:fa(t)}}var ya=function e(t,r,n){r=r||[];var s=n=n||0;for(;t>=ma;)r[n++]=255&t|ga,t/=128;for(;t&ba;)r[n++]=255&t|ga,t>>>=7;return r[n]=0|t,e.bytes=n-s+1,r},ga=128,ba=-128,ma=Math.pow(2,31);var wa=function e(t,r){var n,s=0,o=0,a=r=r||0,i=t.length;do{if(a>=i)throw e.bytes=0,new RangeError("Could not decode varint");n=t[a++],s+=o<28?(n&Ea)<<o:(n&Ea)*Math.pow(2,o),o+=7}while(n>=va);return e.bytes=a-r,s},va=128,Ea=127;var Pa=Math.pow(2,7),xa=Math.pow(2,14),Sa=Math.pow(2,21),Aa=Math.pow(2,28),Ca=Math.pow(2,35),Ta=Math.pow(2,42),ja=Math.pow(2,49),Ua=Math.pow(2,56),Na=Math.pow(2,63);const ka={encode:ya,decode:wa,encodingLength:function(e){return e<Pa?1:e<xa?2:e<Sa?3:e<Aa?4:e<Ca?5:e<Ta?6:e<ja?7:e<Ua?8:e<Na?9:10}},Ia=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[ka.decode(e,t),ka.decode.bytes]},Da=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ka.encode(e,t,r),t},Ba=e=>ka.encodingLength(e),za=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class La{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}var Oa=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),a=o.charCodeAt(0);if(255!==r[a])throw new TypeError(o+" is ambiguous");r[a]=s}var i=e.length,c=e.charAt(0),l=Math.log(i)/Math.log(256),h=Math.log(256)/Math.log(i);function u(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,s=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var u=0,d=o-1;(0!==h||u<s)&&-1!==d;d--,u++)h+=i*a[d]>>>0,a[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=u,t++}if(" "!==e[t]){for(var f=o-s;f!==o&&0===a[f];)f++;for(var p=new Uint8Array(n+(o-f)),y=n;f!==o;)p[y++]=a[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,s=0,o=t.length;s!==o&&0===t[s];)s++,r++;for(var a=(o-s)*h+1>>>0,l=new Uint8Array(a);s!==o;){for(var u=t[s],d=0,f=a-1;(0!==u||d<n)&&-1!==f;f--,d++)u+=256*l[f]>>>0,l[f]=u%i>>>0,u=u/i>>>0;if(0!==u)throw new Error("Non-zero carry");n=d,s++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var y=c.repeat(r);p<a;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:u,decode:function(e){var r=u(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}};const Ra=Oa;class Ma{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class _a{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Va(this,e)}}class Ha{constructor(e){this.decoders=e}or(e){return Va(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const Va=(e,t)=>new Ha({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class qa{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new Ma(e,t,r),this.decoder=new _a(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Fa=e=>{let{name:t,prefix:r,encode:n,decode:s}=e;return new qa(t,r,n,s)},Ja=e=>{let{prefix:t,name:r,alphabet:n}=e;const{encode:s,decode:o}=Ra(n,r);return Fa({prefix:t,name:r,encode:s,decode:e=>za(o(e))})},Wa=e=>{let{name:t,prefix:r,bitsPerChar:n,alphabet:s}=e;return Fa({prefix:r,name:t,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],s=(1<<r)-1;let o="",a=0,i=0;for(let c=0;c<e.length;++c)for(i=i<<8|e[c],a+=8;a>r;)a-=r,o+=t[s&i>>a];if(a&&(o+=t[s&i<<r-a]),n)for(;o.length*r&7;)o+="=";return o})(e,s,n),decode:e=>((e,t,r,n)=>{const s={};for(let h=0;h<t.length;++h)s[t[h]]=h;let o=e.length;for(;"="===e[o-1];)--o;const a=new Uint8Array(o*r/8|0);let i=0,c=0,l=0;for(let h=0;h<o;++h){const t=s[e[h]];if(void 0===t)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|t,i+=r,i>=8&&(i-=8,a[l++]=255&c>>i)}if(i>=r||255&c<<8-i)throw new SyntaxError("Unexpected end of data");return a})(e,s,n,t)})},Ka=Ja({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Qa=(Ja({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Wa({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),Za=(Wa({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Wa({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Wa({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Wa({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Wa({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Wa({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Wa({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Wa({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),(e,t)=>{const{bytes:r,version:n}=e;return 0===n?ei(r,Xa(e),t||Ka.encoder):ti(r,Xa(e),t||Qa.encoder)}),Ga=new WeakMap,Xa=e=>{const t=Ga.get(e);if(null==t){const t=new Map;return Ga.set(e,t),t}return t};class Ya{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==ri)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==ni)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ya.createV0(t)}default:throw Error("Can not convert CID version ".concat(this.version," to version 0. This is a bug please report"))}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=((e,t)=>{const r=t.byteLength,n=Ba(e),s=n+Ba(r),o=new Uint8Array(s+r);return Da(e,o,0),Da(r,o,n),o.set(t,s),new La(e,r,t,o)})(e,t);return Ya.createV1(this.code,r)}case 1:return this;default:throw Error("Can not convert CID version ".concat(this.version," to version 1. This is a bug please report"))}}equals(e){return Ya.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&((e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,r.bytes)}})(e.multihash,r.multihash)}toString(e){return Za(this,e)}toJSON(){return{"/":Za(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID(".concat(this.toString(),")")}static asCID(e){if(null==e)return null;const t=e;if(t instanceof Ya)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:n,bytes:s}=t;return new Ya(e,r,n,s||si(e,r,n.bytes))}if(!0===t[oi]){const{version:e,multihash:r,code:n}=t,s=(e=>{const t=za(e),[r,n]=Ia(t),[s,o]=Ia(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==s)throw new Error("Incorrect length");return new La(r,s,a,t)})(r);return Ya.create(e,n,s)}return null}static create(e,t,r){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==ri)throw new Error("Version 0 CID must use dag-pb (code: ".concat(ri,") block encoding"));return new Ya(e,t,r,r.bytes);case 1:{const n=si(e,t,r.bytes);return new Ya(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return Ya.create(0,ri,e)}static createV1(e,t){return Ya.create(1,e,t)}static decode(e){const[t,r]=Ya.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Ya.inspectBytes(e),r=t.size-t.multihashSize,n=za(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=n.subarray(t.multihashSize-t.digestSize),o=new La(t.multihashCode,t.digestSize,s,n);return[0===t.version?Ya.createV0(o):Ya.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=Ia(e.subarray(t));return t+=n,r};let n=r(),s=ri;if(18===n?(n=0,t=0):s=r(),0!==n&&1!==n)throw new RangeError("Invalid CID version ".concat(n));const o=t,a=r(),i=r(),c=t+i;return{version:n,codec:s,multihashCode:a,digestSize:i,multihashSize:c-o,size:c}}static parse(e,t){const[r,n]=$a(e,t),s=Ya.decode(n);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return Xa(s).set(r,e),s}}const $a=(e,t)=>{switch(e[0]){case"Q":{const r=t||Ka;return[Ka.prefix,r.decode("".concat(Ka.prefix).concat(e))]}case Ka.prefix:{const r=t||Ka;return[Ka.prefix,r.decode(e)]}case Qa.prefix:{const r=t||Qa;return[Qa.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},ei=(e,t,r)=>{const{prefix:n}=r;if(n!==Ka.prefix)throw Error("Cannot string encode V0 in ".concat(r.name," encoding"));const s=t.get(n);if(null==s){const s=r.encode(e).slice(1);return t.set(n,s),s}return s},ti=(e,t,r)=>{const{prefix:n}=r,s=t.get(n);if(null==s){const s=r.encode(e);return t.set(n,s),s}return s},ri=112,ni=18,si=(e,t,r)=>{const n=Ba(e),s=n+Ba(t),o=new Uint8Array(s+r.byteLength);return Da(e,o,0),Da(t,o,n),o.set(r,s),o},oi=Symbol.for("@ipld/js-cid/CID");function ai(e){return null!=Ya.asCID(e)}async function*ii(e){if(null===e||void 0===e)throw lr()(new Error("Unexpected input: ".concat(e)),"ERR_UNEXPECTED_INPUT");const t=Ya.asCID(e);if(t)yield ci({cid:t});else{if(!(e instanceof String||"string"===typeof e)){if(null!=e.cid||null!=e.path)return yield ci(e);if(r=e,Symbol.iterator in r){const t=e[Symbol.iterator](),r=t.next();if(r.done)return t;if(ai(r.value)){yield ci({cid:r.value});for(const e of t)yield ci({cid:e});return}if(r.value instanceof String||"string"===typeof r.value){yield ci({path:r.value});for(const e of t)yield ci({path:e});return}if(null!=r.value.cid||null!=r.value.path){yield ci(r.value);for(const e of t)yield ci(e);return}throw lr()(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}var r;if(function(e){return Symbol.asyncIterator in e}(e)){const t=e[Symbol.asyncIterator](),r=await t.next();if(r.done)return t;if(ai(r.value)){yield ci({cid:r.value});for await(const e of t)yield ci({cid:e});return}if(r.value instanceof String||"string"===typeof r.value){yield ci({path:r.value});for await(const e of t)yield ci({path:e});return}if(null!=r.value.cid||null!=r.value.path){yield ci(r.value);for await(const e of t)yield ci(e);return}throw lr()(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}throw lr()(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}yield ci({path:e})}}function ci(e){const t=e.cid||"".concat(e.path);if(!t)throw lr()(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");const r={path:t,recursive:!1!==e.recursive};return null!=e.metadata&&(r.metadata=e.metadata),r}const li=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){for await(const{path:n,recursive:s,metadata:o}of ii(t)){const t=await e.post("pin/add",{signal:r.signal,searchParams:ur({...r,arg:n,recursive:s,metadata:o?JSON.stringify(o):void 0,stream:!0}),headers:r.headers});for await(const e of t.ndjson())if(e.Pins)for(const t of e.Pins)yield ft.parse(t);else yield ft.parse(e)}}()}catch(r){return Promise.reject(r)}}));function hi(e){const t=li(e);return ar((()=>async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return no(t([{path:e,...r}],r))}))(e)}function ui(e,t,r){const n={type:e,cid:ft.parse(t)};return r&&(n.metadata=r),n}const di=ar((e=>function(){try{let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){let r=[];t.paths&&(r=Array.isArray(t.paths)?t.paths:[t.paths]);const n=await e.post("pin/ls",{signal:t.signal,searchParams:ur({...t,arg:r.map((e=>"".concat(e))),stream:!0}),headers:t.headers});for await(const e of n.ndjson()){if(e.Keys){for(const t of Object.keys(e.Keys))yield ui(e.Keys[t].Type,t,e.Keys[t].Metadata);return}yield ui(e.Type,e.Cid,e.Metadata)}}()}catch(t){return Promise.reject(t)}})),fi=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){for await(const{path:n,recursive:s}of ii(t)){const t=new URLSearchParams(r.searchParams);t.append("arg","".concat(n)),null!=s&&t.set("recursive",String(s));const o=await e.post("pin/rm",{signal:r.signal,headers:r.headers,searchParams:ur({...r,arg:"".concat(n),recursive:s})});for await(const e of o.ndjson())e.Pins?yield*e.Pins.map((e=>ft.parse(e))):yield ft.parse(e)}}()}catch(r){return Promise.reject(r)}})),pi=e=>{const t=fi(e);return ar((()=>async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return no(t([{path:e,...r}],r))}))(e)},yi=e=>{let{Name:t,Status:r,Cid:n}=e;return{cid:ft.parse(n),name:t,status:r}},gi=e=>{if("string"===typeof e&&""!==e)return e;throw new TypeError("service name must be passed")},bi=e=>{if(ft.asCID(e))return e.toString();throw new TypeError("CID instance expected instead of ".concat(typeof e))},mi=e=>{let{service:t,cid:r,name:n,status:s,all:o}=e;const a=ur({service:gi(t),name:n,force:!!o||void 0});if(r)for(const i of r)a.append("cid",bi(i));if(s)for(const i of s)a.append("status",i);return a},wi=e=>{let{cid:t,service:r,background:n,name:s,origins:o}=e;const a=ur({arg:bi(t),service:gi(r),name:s,background:!!n||void 0});if(o)for(const i of o)a.append("origin",i.toString());return a};function vi(e){return async function(t,r){let{timeout:n,signal:s,headers:o,...a}=r;const i=await e.post("pin/remote/add",{timeout:n,signal:s,headers:o,searchParams:wi({cid:t,...a})});return yi(await i.json())}}function Ei(e){return function(t){try{let{timeout:r,signal:n,headers:s,...o}=t;return async function*(){const t=await e.post("pin/remote/ls",{timeout:r,signal:n,headers:s,searchParams:mi(o)});for await(const e of t.ndjson())yield yi(e)}()}catch(r){return Promise.reject(r)}}}function Pi(e){return async function(t){let{timeout:r,signal:n,headers:s,...o}=t;await e.post("pin/remote/rm",{timeout:r,signal:n,headers:s,searchParams:mi({...o,all:!1})})}}function xi(e){return async function(t){let{timeout:r,signal:n,headers:s,...o}=t;await e.post("pin/remote/rm",{timeout:r,signal:n,headers:s,searchParams:mi({...o,all:!0})})}}function Si(e){const t=String(e);if("undefined"===t)throw Error("endpoint is required");return"/"===t[t.length-1]?t.slice(0,-1):t}function Ai(e){return{service:e.Service,endpoint:new URL(e.ApiEndpoint),...e.Stat&&{stat:Ci(e.Stat)}}}function Ci(e){switch(e.Status){case"valid":{const{Pinning:t,Pinned:r,Queued:n,Failed:s}=e.PinCount;return{status:"valid",pinCount:{queued:n,pinning:t,pinned:r,failed:s}}}case"invalid":return{status:"invalid"};default:return{status:e.Status}}}function Ti(e){return async function(t,r){const{endpoint:n,key:s,headers:o,timeout:a,signal:i}=r;await e.post("pin/remote/service/add",{timeout:a,signal:i,searchParams:ur({arg:[t,Si(n),s]}),headers:o})}}function ji(e){return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{stat:r,headers:n,timeout:s,signal:o}=t,a=await e.post("pin/remote/service/ls",{timeout:s,signal:o,headers:n,searchParams:!0===r?ur({stat:r}):void 0}),{RemoteServices:i}=await a.json();return i.map(Ai)}}function Ui(e){return async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};await e.post("pin/remote/service/rm",{signal:r.signal,headers:r.headers,searchParams:ur({arg:t})})}}function Ni(e){const t=new or(e);return{add:Ti(t),ls:ji(t),rm:Ui(t)}}function ki(e){const t=new or(e);return{add:vi(t),ls:Ei(t),rm:Pi(t),rmAll:xi(t),service:Ni(e)}}function Ii(e){return{addAll:li(e),add:hi(e),ls:di(e),rmAll:fi(e),rm:pi(e),remote:ki(e)}}const Di=e=>(0,fo.B)(Bi(e)),Bi=e=>qe.decode(e),zi=e=>BigInt("0x".concat((0,fo.B)(qe.decode(e),"base16"))),Li=e=>qe.encode((0,Gs.m)(e)),Oi=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{Strings:r}=await(await e.post("pubsub/ls",{signal:t.signal,searchParams:ur(t),headers:t.headers})).json();return n=r,(Array.isArray(n)?n.map(Di):n)||[];var n})),Ri=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("pubsub/peers",{signal:r.signal,searchParams:ur({arg:Li(t),...r}),headers:r.headers}),{Strings:s}=await n.json();return s||[]})),Mi=ar((e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=ur({arg:Li(t),...n}),o=new AbortController,a=Ls(o.signal,n.signal),i=await e.post("pubsub/pub",{signal:a,searchParams:s,...await Bs([r],o,n.headers)});await i.text()})),_i=Jt("js-kubo-rpc-client:pubsub:subscribe"),Hi=(e,t)=>ar((e=>async function(r,n){let s,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a.signal=t.subscribe(r,n,a.signal);const i=new Promise(((e,t)=>{s=e,o=t})),c=setTimeout((()=>s()),1e3);return e.post("pubsub/sub",{signal:a.signal,searchParams:ur({arg:Li(r),...a}),headers:a.headers}).catch((e=>{t.unsubscribe(r,n),o(e)})).then((e=>{clearTimeout(c),e&&(!async function(e,t){let{onMessage:r,onEnd:n,onError:s}=t;s=s||_i;try{for await(const t of e.ndjson())try{if(!t.from)continue;var o,a;if(null!=t.from&&null!=t.seqno)r({type:"signed",from:hs(t.from),data:Bi(t.data),sequenceNumber:zi(t.seqno),topic:Di(t.topicIDs[0]),key:Bi(null!==(o=t.key)&&void 0!==o?o:"u"),signature:Bi(null!==(a=t.signature)&&void 0!==a?a:"u")});else r({type:"unsigned",data:Bi(t.data),topic:Di(t.topicIDs[0])})}catch(i){i.message="Failed to parse pubsub message: ".concat(i.message),s(i,!1,t)}}catch(i){Vi(i)||s(i,!0)}finally{n()}}(e,{onMessage:e=>{n&&("function"!==typeof n?"function"===typeof n.handleEvent&&n.handleEvent(e):n(e))},onEnd:()=>t.unsubscribe(r,n),onError:a.onError}),s())})),i}))(e);const Vi=e=>{switch(e.type){case"aborted":case"abort":return!0;default:return"AbortError"===e.name}},qi=(e,t)=>async function(e,r){t.unsubscribe(e,r)};class Fi{constructor(){this._subs=new Map}subscribe(e,t,r){const n=this._subs.get(e)||[];if(n.find((e=>e.handler===t)))throw new Error("Already subscribed to ".concat(e," with this handler"));const s=new AbortController;return this._subs.set(e,[{handler:t,controller:s}].concat(n)),r&&r.addEventListener("abort",(()=>this.unsubscribe(e,t))),s.signal}unsubscribe(e,t){const r=this._subs.get(e)||[];let n;t?(this._subs.set(e,r.filter((e=>e.handler!==t))),n=r.filter((e=>e.handler===t))):(this._subs.set(e,[]),n=r),(this._subs.get(e)||[]).length||this._subs.delete(e),n.forEach((e=>e.controller.abort()))}}function Ji(e){const t=new Fi;return{ls:Oi(e),peers:Ri(e),publish:Mi(e),subscribe:Hi(e,t),unsubscribe:qi(e,t)}}const Wi=ar((e=>function(){try{let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){const r=await e.post("refs/local",{signal:t.signal,transform:Ao,searchParams:ur(t),headers:t.headers});yield*r.ndjson()}()}catch(t){return Promise.reject(t)}})),Ki=ar(((e,t)=>Object.assign((function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const n=Array.isArray(t)?t:[t],s=await e.post("refs",{signal:r.signal,searchParams:ur({arg:n.map((e=>"".concat(e instanceof Uint8Array?ft.decode(e):e))),...r}),headers:r.headers,transform:Ao});yield*s.ndjson()}()}catch(r){return Promise.reject(r)}}),{local:Wi(t)}))),Qi=ar((e=>function(){try{let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){const r=await e.post("repo/gc",{signal:t.signal,searchParams:ur(t),headers:t.headers,transform:e=>({err:e.Error?new Error(e.Error):null,cid:(e.Key||{})["/"]?ft.parse(e.Key["/"]):null})});yield*r.ndjson()}()}catch(t){return Promise.reject(t)}})),Zi=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("repo/stat",{signal:t.signal,searchParams:ur(t),headers:t.headers}),n=await r.json();return{numObjects:BigInt(n.NumObjects),repoSize:BigInt(n.RepoSize),repoPath:n.RepoPath,version:n.Version,storageMax:BigInt(n.StorageMax)}})),Gi=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await(await e.post("repo/version",{signal:t.signal,searchParams:ur(t),headers:t.headers})).json()).Version}));function Xi(e){return{gc:Qi(e),stat:Zi(e),version:Gi(e)}}const Yi=ar((e=>function(){try{let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){const r=await e.post("stats/bw",{signal:t.signal,searchParams:ur(t),headers:t.headers,transform:e=>({totalIn:BigInt(e.TotalIn),totalOut:BigInt(e.TotalOut),rateIn:parseFloat(e.RateIn),rateOut:parseFloat(e.RateOut)})});yield*r.ndjson()}()}catch(t){return Promise.reject(t)}}));function $i(e){return{bitswap:us(e),repo:Zi(e),bw:Yi(e)}}const ec=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("swarm/addrs",{signal:t.signal,searchParams:ur(t),headers:t.headers}),{Addrs:n}=await r.json();return Object.keys(n).map((e=>({id:hs(e),addrs:(n[e]||[]).map((e=>(0,St.HM)(e)))})))})),tc=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("swarm/connect",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers}),{Strings:s}=await n.json();return s||[]})),rc=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("swarm/disconnect",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers}),{Strings:s}=await n.json();return s||[]})),nc=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("swarm/addrs/local",{signal:t.signal,searchParams:ur(t),headers:t.headers}),{Strings:n}=await r.json();return(n||[]).map((e=>(0,St.HM)(e)))})),sc=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("swarm/peers",{signal:t.signal,searchParams:ur(t),headers:t.headers}),{Peers:n}=await r.json();return(n||[]).map((e=>({addr:(0,St.HM)(e.Addr),peer:hs(e.Peer),muxer:e.Muxer,latency:e.Latency,streams:e.Streams,direction:null==e.Direction?void 0:0===e.Direction?"inbound":"outbound"})))}));function oc(e){return{addrs:ec(e),connect:tc(e),disconnect:rc(e),localAddrs:nc(e),peers:sc(e)}}const ac=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const n=new AbortController,s=Ls(n.signal,r.signal),{headers:o,body:a,total:i,parts:c}=await Bs(t,n,r.headers),[l,h]="function"===typeof r.progress?ic(i,c,r.progress):[void 0,void 0],u=await e.post("add",{searchParams:ur({"stream-channels":!0,...r,progress:Boolean(l)}),onUploadProgress:h,signal:s,headers:o,body:a});for await(let e of u.ndjson())e=Ao(e),void 0!==e.hash?yield lc(e):l&&l(e.bytes||0,e.name)}()}catch(r){return Promise.reject(r)}})),ic=(e,t,r)=>t?[void 0,cc(e,t,r)]:[r,void 0],cc=(e,t,r)=>{let n=0;const s=t.length;return o=>{let{loaded:a,total:i}=o;const c=Math.floor(a/i*e);for(;n<s;){const{start:e,end:s,name:o}=t[n];if(c<s){r(c-e,o);break}r(s-e,o),n+=1}}};function lc(e){let{name:t,hash:r,size:n,mode:s,mtime:o,mtimeNsecs:a}=e;const i={path:t,cid:ft.parse(r),size:parseInt(n)};return null!=s&&(i.mode=parseInt(s,8)),null!=o&&(i.mtime={secs:o,nsecs:a||0}),i}async function*hc(e){yield e}async function uc(e){if(gs(e))return hc(dc(e));if("string"===typeof e||e instanceof String)return hc(dc(e.toString()));if(bs(e))return"function"===typeof(t=e).stream?(0,ps.Z)(t.stream()):(0,ps.Z)(new Response(t).body);var t;if(ws(e)&&(e=(0,ps.Z)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const t=fs(e),{value:r,done:n}=await t.peek();if(n)return hc(new Uint8Array(0));if(t.push(r),Number.isInteger(r))return hc(Uint8Array.from(await ys(t)));if(gs(r)||"string"===typeof r||r instanceof String)return Ps(t,dc)}throw lr()(new Error("Unexpected input: ".concat(e)),"ERR_UNEXPECTED_INPUT")}function dc(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):(0,Gs.m)(e.toString())}async function fc(e,t){const{path:r,mode:n,mtime:s,content:o}=e,a={path:r||"",mode:Us(n),mtime:Ns(s)};return o?a.content=await t(o):r||(a.content=await t(e)),a}function pc(e){return async function*(e,t){if(null===e||void 0===e)throw lr()(new Error("Unexpected input: ".concat(e)),"ERR_UNEXPECTED_INPUT");if("string"===typeof e||e instanceof String)yield fc(e.toString(),t);else if(gs(e)||bs(e))yield fc(e,t);else{if(ws(e)&&(e=(0,ps.Z)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const r=fs(e),{value:n,done:s}=await r.peek();if(s)return void(yield{content:[]});if(r.push(n),Number.isInteger(n)||gs(n)||"string"===typeof n||n instanceof String)return void(yield fc(r,t));throw lr()(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(!ms(e))throw lr()(new Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT");yield fc(e,t)}}(e,uc)}function yc(e){const t=ac(e);return ar((()=>async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=pc(e),s=t(n,r);return await no(s)}))(e)}const gc=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const n=await e.post("cat",{signal:r.signal,searchParams:ur({arg:t.toString(),...r}),headers:r.headers});yield*n.iterator()}()}catch(r){return Promise.reject(r)}})),bc=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await e.post("commands",{signal:t.signal,searchParams:ur(t),headers:t.headers})).json()})),mc=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("dns",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers});return(await n.json()).Path})),wc=ar((e=>()=>{const t=new URL(e.opts.base||"");return{host:t.hostname,port:t.port,protocol:t.protocol,pathname:t.pathname,"api-path":t.pathname}})),vc=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const n={arg:"".concat(t instanceof Uint8Array?ft.decode(t):t),...r};n.compressionLevel&&(n["compression-level"]=n.compressionLevel,delete n.compressionLevel);const s=await e.post("get",{signal:r.signal,searchParams:ur(n),headers:r.headers});yield*s.iterator()}()}catch(r){return Promise.reject(r)}})),Ec=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("id",{signal:t.signal,searchParams:ur({arg:t.peerId?t.peerId.toString():void 0,...t}),headers:t.headers}),n={...Ao(await r.json())};return n.id=hs(n.id),n.addresses&&(n.addresses=n.addresses.map((e=>(0,St.HM)(e)))),n})),Pc=e=>{const t=Ec(e);return async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await t(e);return Boolean(r&&r.addresses&&r.addresses.length)}},xc=ar(((e,t)=>function(r){try{let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const s="".concat(r instanceof Uint8Array?ft.decode(r):r);async function o(e){let r=e.Hash;if(r.includes("/")){const e=r.startsWith("/ipfs/")?r:"/ipfs/".concat(r);r=(await zo(t)(e)).cid}else r=ft.parse(r);const n={name:e.Name,path:s+(e.Name?"/".concat(e.Name):""),size:e.Size,cid:r,type:Sc(e)};return e.Mode&&(n.mode=parseInt(e.Mode,8)),void 0!==e.Mtime&&null!==e.Mtime&&(n.mtime={secs:e.Mtime},void 0!==e.MtimeNsecs&&null!==e.MtimeNsecs&&(n.mtime.nsecs=e.MtimeNsecs)),n}const a=await e.post("ls",{signal:n.signal,searchParams:ur({arg:s,...n}),headers:n.headers});for await(let e of a.ndjson()){if(e=e.Objects,!e)throw new Error("expected .Objects in results");if(e=e[0],!e)throw new Error("expected one array in results.Objects");const t=e.Links;if(!Array.isArray(t))throw new Error("expected one array in results.Objects[0].Links");if(!t.length)return void(yield o(e));yield*t.map(o)}}()}catch(n){return Promise.reject(n)}}));function Sc(e){switch(e.Type){case 1:case 5:return"dir";default:return"file"}}const Ac=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("dns",{signal:t.signal,searchParams:ur(t),headers:t.headers});return Ao(await r.json())})),Cc=ar((e=>function(t){try{let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const n=await e.post("ping",{signal:r.signal,searchParams:ur({arg:"".concat(t),...r}),headers:r.headers,transform:Ao});yield*n.ndjson()}()}catch(r){return Promise.reject(r)}})),Tc=ar((e=>async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await e.post("resolve",{signal:r.signal,searchParams:ur({arg:t,...r}),headers:r.headers}),{Path:s}=await n.json();return s})),jc=ar((e=>async function(){throw lr()(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})),Uc=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("shutdown",{signal:t.signal,searchParams:ur(t),headers:t.headers});await r.text()})),Nc=ar((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await e.post("version",{signal:t.signal,searchParams:ur(t),headers:t.headers});return{...Ao(await r.json()),"ipfs-http-client":"1.0.0"}}));r(85104),r(48772);function kc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={name:ue.name,code:ue.code,encode:e=>e,decode:e=>e},r=Object.values(Et);(e.ipld&&e.ipld.bases?e.ipld.bases:[]).forEach((e=>r.push(e)));const n=new I({bases:r,loadBase:e.ipld&&e.ipld.loadBase}),s=Object.values(xt);[O,R,M,_,t].concat(e.ipld&&e.ipld.codecs||[]).forEach((e=>s.push(e)));const o=new B({codecs:s,loadCodec:e.ipld&&e.ipld.loadCodec}),a=Object.values(Pt);(e.ipld&&e.ipld.hashers?e.ipld.hashers:[]).forEach((e=>a.push(e)));const i=new L({hashers:a,loadHasher:e.ipld&&e.ipld.loadHasher});var c;return{add:yc(e),addAll:ac(e),bitswap:(c=e,{wantlist:dr(c),wantlistForPeer:fr(c),stat:us(c)}),block:Hs(e),bootstrap:Js(e),cat:gc(e),commands:bc(e),config:eo(e),dag:co(o,e),dht:mo(e),diag:Po(e),dns:mc(e),files:Oo(e),get:vc(e),getEndpointConfig:wc(e),id:Ec(e),isOnline:Pc(e),key:Jo(e),log:Zo(e),ls:xc(e),mount:Ac(e),name:ra(e),object:pa(o,e),pin:Ii(e),ping:Cc(e),pubsub:Ji(e),refs:Ki(e),repo:Xi(e),resolve:Tc(e),start:jc(e),stats:$i(e),stop:Uc(e),swarm:oc(e),version:Nc(e),bases:n,codecs:o,hashers:i}}},45359:(e,t,r)=>{"use strict";var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response}}]);
//# sourceMappingURL=40.4f526f9a.chunk.js.map